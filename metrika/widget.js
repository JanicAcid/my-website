!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.widget=e():t.widget=e()}(window,function(){return function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=97)}([function(t,e,n){"use strict";n.d(e,"a",function(){return i});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function i(t,e,n,i){var r,a=arguments.length,s=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===("undefined"==typeof Reflect?"undefined":o(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(a<3?r(s):a>3?r(e,n,s):r(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s}},function(t,e,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||o(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(63),e),i(n(64),e)},function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return r}),n.d(e,"c",function(){return a});var o=n(6);Object(o.updateSettings)({project:"messenger-widget",version:"1.42.0",env:"production"});var i=o.updateSettings,r=function(t){try{t()}catch(t){throw Object(o.logError)(t),t}};function a(t,e,n){var o=n.value;return n.value=function(){for(var t=this,e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];r(function(){o.apply(t,n)})},n}},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function i(t){return function(e,n){var r=i.prefix+t;"string"==typeof e&&(r+="__"+e);var a=[r],s={};return"object"===(void 0===e?"undefined":o(e))?s=e:"object"===(void 0===n?"undefined":o(n))&&(s=n),function(t){return Object.keys(t).filter(function(e){var n=t[e];return n||0===n}).map(function(e){var n=e.trim(),o=t[e];return!0===o?"_"+n:"_"+n+"_"+o})}(s).forEach(function(t){a.push(r+t)}),a.join(" ")}}function r(t,e,n){return i(t)(e,n).split(" ").pop()||""}i.prefix="ya-chat-"},function(t,e,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||o(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(49),e),i(n(50),e),i(n(51),e),i(n(52),e),i(n(53),e),i(n(54),e),i(n(56),e),i(n(57),e),i(n(58),e),i(n(59),e),i(n(20),e),i(n(60),e),i(n(61),e),i(n(62),e)},function(t,e,n){"use strict";n.d(e,"a",function(){return _}),n.d(e,"b",function(){return x});var o="undefined"!=typeof document,i="undefined"!=typeof window,r="undefined"!=typeof navigator,a="undefined"!=typeof screen;function s(){return i&&window.location?window.location.href:""}function c(){return o?document.referrer:""}function l(t,e){return(t||"").slice(0,e)}function p(){return Math.floor(1e6*Math.random())}var u=512;function d(t,e,n){(n||0===n)&&t.push(e+":"+(!0===n?"1":n))}function h(t,e){var n=[];return t&&Object.keys(t).forEach(function(e){return d(n,e,t[e])}),d(n,"rn",p()),d(n,"c",!!r&&navigator.cookieEnabled),d(n,"s",a?[screen.width,screen.height,screen.colorDepth].join("x"):""),d(n,"en",o&&"string"==typeof document.charset?document.charset.toLowerCase():""),d(n,"t",l(e,u)),n.join(":")}var m=1024;function f(t){return l(t,m)}function y(t,e){var n,o="https://mc.yandex.ru/watch/"+t+"?"+(n=e,Object.keys(n).filter(function(t){var e=n[t];return""!==e&&null!=e}).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(n[t])}).join("&"));"undefined"!=typeof navigator&&navigator.sendBeacon?navigator.sendBeacon(o," "):"undefined"!=typeof fetch?fetch(o,{credentials:"include"}):"undefined"!=typeof Image&&((new Image).src=o)}function b(t){var e=t.browserInfo,n=t.counterId,o=t.pageParams,i=t.userVars,r={"browser-info":h(e,o.title),rn:p(),ut:o.ut};o.url&&(r["page-url"]=f(o.url)),o.referrer&&(r["page-ref"]=f(o.referrer)),i&&(r["site-info"]=JSON.stringify(i)),y(n,r)}function g(t,e,n){b({counterId:t,pageParams:{referrer:e&&void 0!==e.referrer?e.referrer:c(),title:e&&void 0!==e.title?e.title:o?document.title:"",url:e&&void 0!==e.url?e.url:s()},userVars:n})}function v(t,e,n){var o,r;e?(o=s(),r="goal://"+(i&&window.location?window.location.hostname:"")+"/"+e):(o=c(),r=s()),b({counterId:t,pageParams:{referrer:o,url:r},userVars:n})}var w="52122583";function _(t,e){g(w,t,e)}function x(t,e){v(w,t,e)}},function(t,e,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(t,e,n,o){void 0===o&&(o=n),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,o){void 0===o&&(o=n),t[o]=e[n]}),i=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||e.hasOwnProperty(n)||o(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),i(n(15),e),i(n(19),e),i(n(48),e)},function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return s}),n.d(e,"c",function(){return c});var o=!1;try{document.createEvent("TouchEvent"),o=!0}catch(t){}var i=Math.max(window.screen.width,window.screen.height)<900;var r=window.navigator.userAgent,a=o&&(i||/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(r)),s=function(t){return/iPad|iPhone|iPod/.test(t)}(r),c=function(t){return/^((?!chrome|android).)*safari/i.test(t)}(r)},function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return r});var o={"widget-error-button-color":!0,"widget-error-text-color":!0,"widget-spinner-color":!0,"widget-loader-background-color":!0,"widget-button-offset-right":!0,"widget-button-offset-bottom":!0},i=function(t,e){Object.keys(e).forEach(function(n){t.style.setProperty("--yandex-mssngr-"+n,e[n])})},r=function(t){return t?Object.keys(t).reduce(function(e,n){return t[n].includes("url")?e:(e[o[n]?"widgetThemeVariables":"themeVariables"][n]=t[n],e)},{widgetThemeVariables:{},themeVariables:{}}):{}}},function(t,e,n){"use strict";n.d(e,"c",function(){return a}),n.d(e,"d",function(){return s}),n.d(e,"b",function(){return h}),n.d(e,"a",function(){return m});var o=n(4),i=n(6);function r(t){var e=window.YandexApplicationsFeatureAvailability&&window.YandexApplicationsFeatureAvailability.getFeatureInfo(t);if("string"==typeof e)try{e=JSON.parse(e)}catch(t){Object(i.logError)(t,{message:"Can not get yandex application availability feature",additional:{featureInfo:e}}),e=void 0}return{isAvailable:Boolean(e&&e.isAvailable),params:e&&e.params}}var a=r("dialog-business"),s=r("messenger"),c="messenger://chat/list",l="messenger://chat/open",p="messenger://chat/invite_byhash",u="messenger://user";function d(t,e){var n=t.guid,i=t.chatId,r=t.inviteHash,a=s.params?s.params["available-paths"]:[];return r&&-1!==a.indexOf(p)?Object(o.queryStringify)(p,Object.assign({invite_hash:r},e)):i&&-1!==a.indexOf(l)?Object(o.queryStringify)(l,Object.assign({chat_id:i},e)):n&&a.indexOf(u)?Object(o.queryStringify)(u,Object.assign({user_id:n},e)):Object(o.queryStringify)(c,Object.assign({},e))}function h(){return s.isAvailable||a.isAvailable}function m(t,e){return s.isAvailable?d(t,e):a.isAvailable?function(t,e){var n=t.guid,i=t.iframeUrlParams;if(n)return Object(o.queryStringify)("dialog-business://",{bot_id:n,reqid:i&&i.reqid,service_id:e})}(t,e.serviceId):void 0}},function(t,e,n){"use strict";n.d(e,"a",function(){return d});var o=n(28),i=n(29),r=n(30),a=n(31),s=n(32),c=n(33),l=n(34),p=n(35),u={ru:o,en:i,fr:r,hy:a,kk:s,sr:c,tr:l,uz:p};function d(t,e){return(u[e]||{})[t]||""}},function(t,e,n){"use strict";n.d(e,"a",function(){return I});var o=n(0),i=n(1),r=n(4),a=n(5),s=n(7);var c=n(3),l=n(2),p="disable-page-scroll",u=void 0,d="",h="",m=0,f=0,y=300;function b(){window.clearTimeout(u)}var g=n(43),v=n(13),w=n(14),_=n(41),x=n(17),k=n(40),O=n(44),j=n(9),E=n(39),C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),T=function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,o)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(o):void 0};var I=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n,o,i,c=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,e.config,t));return c.inFullscreen=!1,c.deeplinker=new E.a(c.handleDeeplink),c.isBlockedIframe=(n=s.c,o=window.location.hostname,i=Object(r.getYandexTld)(o),n&&!Object(r.isCookiedYandexTld)(i)&&!Object(r.isYandexTeamHost)(o)),Object(l.a)(function(){var n,o;Object(a.a)(void 0,{build:"widget",guid:c.options.guid,serviceId:""+c.options.serviceId,workspaceId:c.options.workspaceId,version:w.a.version,nativeAvailableDialogBusiness:j.c.isAvailable,nativeAvailableMessenger:j.d.isAvailable,blockedCookie:c.isBlockedIframe,stat:"object"===C(c.options.stat)?c.options.stat:void 0,visitId:c.widgetId}),r.isServiceWorkerSupported&&navigator.serviceWorker.addEventListener("message",c.handleMessage),c.unreadCounter=new k.a(c.refs.badge,c.refs.badgeCount,c.options,c.handleUnreadCounterUpdate,function(t,e){return c.promo.updateBadge(t,e)},null===(o=(n=e.config).unreadCounterControllerFactory)||void 0===o?void 0:o.call(n,c.widgetId,c.options)),c.messageHandler.register("close",function(){return c.hideChat()}).register("counter",function(t){return c.unreadCounter.set(t)}),c.promo.addPromoRef(c.refs.promo),c.initMessengerIframe(),c.popup=new v.a({position:c.options.chatPosition,popupElem:c.refs.popup,size:c.options.size,contentWrapperElem:c.refs["popup-content-wrapper"],targetNode:c.options.popupTargetNode||c.refs.button.getNode()}),c.unreadCounter.start(),t.enableDeeplink&&!c.options.isMobile&&c.deeplinker.start()}),c}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,w["a"]),M(e,[{key:"createTemplate",value:function(){var t=this;this.promo=new O.a(this.options);var e=this.promo.renderPromoContent();return"hidden"!==this.options.theme&&this.onShowEntryPoint({type:"nativeButton"}),new x.a({template:Object(g.a)(Object.assign(Object.assign({},this.options),{additionalContent:e})),styles:this.options.styles,mountNode:this.options.mountNode,listeners:{button:{click:this.handleButtonClick},error:{click:this.handleOnErrorRetryClick},header:{click:this.handleHeaderClick},headerClose:{click:this.handleCloseClick},closeButton:{click:this.handleCloseClick},closePromoBtn:{click:function(){return t.promo.handleHidePromo("closeClick")}}},nonce:this.options.nonce,themeVariables:this.options.widgetThemeVariables})}},{key:"getUnreadCount",value:function(){return this.unreadCounter.value}},{key:"hideChat",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isChatVisible&&(this.isChatVisible=!1,this.options.autocloseable&&document.removeEventListener("click",this.handleDocumentClick,!0),this.options.isMobile&&Object(l.a)(function(){b();var t=document.body;t.classList.remove(Object(c.b)(p)),s.a&&(t.classList.remove(Object(c.b)(p,{ios:!0})),t.style.marginLeft=d,t.style.marginTop=h,window.scrollTo(m,f))}),this.refs.widget.removeMode({visible:!0}),this.refs.button.removeMode({hidden:!0}),this.refs.paranja.removeMode({visible:!0}),this.refs.mount.removeMode({visible:!0}),this.isExternal()&&this.refs.button.removeMode({hidden:!0}),this.inFullscreen&&this.cancelFullscreen(),this.popup.hide(),this.hideLoader(),this.hideError(),this.hideClose(),this.isChatCreated||this.messengerIframe.reset(),this.emit("chatHide"),this.messengerIframe&&this.messengerIframe.blur(),t||Object(a.b)("widget-closed"))}},{key:"tryOpenNative",value:function(t,n){var o=e.config.openNative&&Object(j.a)(t,{serviceId:this.options.serviceId,clickId:n});return!!o&&(location.replace(o),Object(a.b)("widget-opened-native",{clickId:n}),!0)}},{key:"getExternalUrl",value:function(t){return this.getIframeUrl(Object.assign({botId:this.options.guid,utm_source:"widget",utm_medium:"new_tab"},t))}},{key:"openNewTab",value:function(t){return window.open(this.getExternalUrl(t))}},{key:"openPopup",value:function(t,e){var n=this.isChatCreated;n||this.createMessengerIframe(),this.iframeOpen(Object.assign(Object.assign({},t),{visitId:this.widgetId,initial:!n}),e),this.promo.handleHidePromo("showChat"),this.isChatVisible||(this.isChatVisible=!0,this.options.autocloseable&&document.addEventListener("click",this.handleDocumentClick,!0),this.options.isMobile&&(b(),u=window.setTimeout(function(){Object(l.a)(function(){var t=document.body;s.a&&(m=window.scrollX,f=window.scrollY,d=t.style.marginLeft,h=t.style.marginTop,t.style.marginLeft="-"+m+"px",t.style.marginTop="-"+f+"px",t.classList.add(Object(c.b)(p,{ios:!0}))),t.classList.add(Object(c.b)(p))})},y)),this.refs.widget.setMode({visible:!0}),this.refs.button.setMode({hidden:!0}),this.refs.paranja.setMode({visible:!0}),this.refs.mount.setMode({visible:!0}),this.isExternal()&&this.refs.header.setMode({visible:!0}),this.isChatCreated||this.isExternal()||this.refs.close.setMode({visible:!0}),this.popup.show(),this.emit("chatShow"),Object(a.b)("widget-opened",{clickId:e}))}},{key:"preload",value:function(){this.isChatCreated||this.createMessengerIframe()}},{key:"destroy",value:function(){this.destroyed||(this.hideChat(),this.unreadCounter.stop(),this.popup.destroy(),this.deeplinker.stop(),T(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this))}},{key:"prepareOptions",value:function(t,e){return Object(_.a)(t,e)}},{key:"ready",value:function(){T(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"ready",this).call(this),this.unreadCounter.stop()}},{key:"handleUnreadCounterUpdate",value:function(t){this.emit("unreadCounterChange",t)}},{key:"handleDocumentClick",value:function(t){var e=t.target;this.inFullscreen||!e||this.refs.widget.contains(e)||this.refs.popup.contains(e)||this.hideChat()}},{key:"handleHeaderClick",value:function(t){t.stopPropagation()}},{key:"handleCloseClick",value:function(){this.isChatLoadFailed&&(this.isChatLoadFailed=!1,this.isChatCreated=!1,this.hideError(),this.messengerIframe.reset()),this.hideChat()}},{key:"stopButton",value:function(){var t=this.refs.button;t.removeAttribute("href"),t.removeAttribute("target")}},{key:"handleButtonClick",value:function(){var t=this.generateClickId();Object(a.b)("widget-clicked",{chatVisible:this.isChatVisible,clickId:t}),this.stopButton(),this.isChatVisible?this.hideChat():this.openChat(this.getOpenChatParams(),t)}},{key:"showChat",value:function(t){var e=this.generateClickId();Object(a.b)("api-show-chat",{chatVisible:this.isChatVisible,clickId:e}),this.openChat(this.getOpenChatParams(t),e)}},{key:"openChat",value:function(t,e){if(!this.tryOpenNative(t,e))return this.isBlockedIframe?this.openNewTab({clickId:e}):void this.openPopup(t,e)}},{key:"isExternal",value:function(){return"external"===this.options.config.name}},{key:"cancelFullscreen",value:function(){this.options.fullscreen&&(this.inFullscreen=!1,this.refs.widget.removeMode({fullscreen:!0}),this.popup.cancelFullscreen(),this.isExternal()&&this.refs.header.removeMode({hidden:!0}),T(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"cancelFullscreen",this).call(this))}},{key:"setFullscreen",value:function(){this.options.fullscreen&&(this.inFullscreen=!0,this.refs.widget.setMode({fullscreen:!0}),this.popup.setFullscreen(),this.isExternal()&&this.refs.header.setMode({hidden:!0}),T(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"setFullscreen",this).call(this))}},{key:"handleDeeplink",value:function(t){this.showChat({deeplink:t})}},{key:"handleErrorMessage",value:function(t){if(t&&"NEED_COOKIE"===t.code&&navigator.cookieEnabled)return this.isBlockedIframe=!0,this.openNewTab({clickId:t.clickId}),void this.hideChat(!0);T(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"handleErrorMessage",this).call(this,t)}}]),e}();Object(o.a)([l.c],I.prototype,"hideChat",null),Object(o.a)([l.c],I.prototype,"openNewTab",null),Object(o.a)([l.c],I.prototype,"destroy",null),Object(o.a)([i.bind],I.prototype,"handleUnreadCounterUpdate",null),Object(o.a)([i.bind],I.prototype,"handleDocumentClick",null),Object(o.a)([i.bind],I.prototype,"handleHeaderClick",null),Object(o.a)([i.bind],I.prototype,"handleCloseClick",null),Object(o.a)([i.bind],I.prototype,"handleButtonClick",null),Object(o.a)([l.c],I.prototype,"showChat",null),Object(o.a)([i.bind],I.prototype,"openChat",null),Object(o.a)([i.bind],I.prototype,"isExternal",null),Object(o.a)([i.bind],I.prototype,"handleDeeplink",null),Object(o.a)([i.bind],I.prototype,"handleErrorMessage",null)},function(t,e,n){"use strict";function o(){return Math.random().toString(36).substring(7)}n.d(e,"a",function(){return o})},function(t,e,n){"use strict";n.d(e,"b",function(){return l}),n.d(e,"a",function(){return p});var o=n(0),i=n(1),r=n(3),a=n(2),s=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();var c=10;function l(t,e){var n=Object(r.a)("popup"),o=t.attachTo,i=void 0===o?"":o,a=t.size;return'\n        <div\n            data-ref="popup"\n            data-attach-to="'+i+'"\n            class="'+n({position:t.position,desktop:!t.isMobile,theme:t.theme,mobile:t.isMobile})+'"\n        >\n            <div\n                class="'+n("content-wrapper")+'"\n                data-ref="popup-content-wrapper"\n                style="'+(a?"width: "+a.width+" !important; height: "+a.height+" !important":"")+'"\n            >\n                '+e+"\n            </div>\n        </div>\n    "}var p=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.params=e}return s(t,[{key:"bindEvents",value:function(){window.addEventListener("resize",this.handleUpdatePosition),window.addEventListener("scroll",this.handleUpdatePosition),window.addEventListener("orientationchange",this.handleUpdatePosition)}},{key:"unbindEvents",value:function(){window.removeEventListener("resize",this.handleUpdatePosition),window.removeEventListener("scroll",this.handleUpdatePosition),window.removeEventListener("orientationchange",this.handleUpdatePosition)}},{key:"handleUpdatePosition",value:function(){this.setPosition(function(t,e){var n=e.left,o=e.right,i=e.top,r=e.bottom,a=n,s=r,l=t.offsetWidth,p=t.offsetHeight,u=function(){var t=window.innerWidth,e=window.innerHeight;return{left:0+c,top:0+c,right:0+t-c,bottom:0+e-c}}(),d={left:u.left+(u.right-u.left)/2,top:u.top+(u.bottom-u.top)/2};n+l>u.right&&(a=o>d.left?Math.max(o-l,c):Math.min(n,u.right-l));r+p>u.bottom&&i>d.top&&(s=i-p);return{left:Math.floor(a),top:Math.floor(s)}}(this.params.popupElem.getNode(),this.params.targetNode.getBoundingClientRect()))}},{key:"setPosition",value:function(t){var e=this.params.popupElem.getNode().style.cssText;this.params.popupElem.setAttribute("style",e+" left: "+t.left+"px !important; top: "+t.top+"px !important;")}},{key:"setFullscreen",value:function(){this.params.size&&this.params.contentWrapperElem.unsetSize(),this.params.popupElem.setMode({fullscreen:!0}),"target"===this.params.position&&(this.setPosition({left:0,top:0}),this.unbindEvents())}},{key:"cancelFullscreen",value:function(){this.params.size&&this.params.contentWrapperElem.setSize(this.params.size),this.params.popupElem.removeMode({fullscreen:!0}),"target"===this.params.position&&(this.handleUpdatePosition(),this.bindEvents())}},{key:"show",value:function(){this.params.popupElem.setMode({visible:!0}),"target"===this.params.position&&(this.handleUpdatePosition(),this.bindEvents())}},{key:"hide",value:function(){this.params.popupElem.removeMode({visible:!0}),"target"===this.params.position&&this.unbindEvents()}},{key:"destroy",value:function(){this.unbindEvents(),delete this.params}}]),t}();Object(o.a)([i.bind],p.prototype,"handleUpdatePosition",null),Object(o.a)([a.c],p.prototype,"setPosition",null),Object(o.a)([a.c],p.prototype,"setFullscreen",null),Object(o.a)([a.c],p.prototype,"cancelFullscreen",null),Object(o.a)([a.c],p.prototype,"show",null),Object(o.a)([a.c],p.prototype,"hide",null),Object(o.a)([a.c],p.prototype,"destroy",null)},function(t,e,n){"use strict";n.d(e,"a",function(){return b});var o=n(0),i=n(1),r=n(4),a=n(26),s=n(3),c=n(2),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();var p=["auth","setThemeVariables","iframe-open"],u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.params=e,this.delayedMessages=[],this.isReady=!1,this.isTransportReady=!1,this.iframeOpenData=Object.assign({},this.params.iframeOpenData)}return l(t,[{key:"create",value:function(){this.reset();var t=this.params.authToken;t&&this.delayedMessages.push({type:"auth",payload:{token:t}}),this.iframe=document.createElement("iframe"),this.iframe.setAttribute("scrolling","no"),this.iframe.src=this.url,this.iframe.className=Object(s.b)("messenger-iframe"),this.iframe.onerror=this.params.onError,this.params.allow&&this.iframe.setAttribute("allow",this.params.allow.join("; ")),this.params.container.append(this.iframe)}},{key:"sendMessage",value:function(t,e,n){if(this.isReady)this.sendMessageToIframe(t,e);else{n&&this.removeDelayedMessages(t);var o=e;"iframe-open"===t&&(e?(o=e,this.iframeOpenData=e):o=this.iframeOpenData),this.delayedMessages.push({type:t,payload:o})}}},{key:"sendMessageToIframe",value:function(t,e){this.iframe&&this.iframe.contentWindow&&this.iframe.contentWindow.postMessage({namespace:"messenger",type:t,payload:Object.assign(Object.assign({},e),{parentUrl:window.location.href})},this.origin)}},{key:"sendDelayedMessages",value:function(){var t=this;this.delayedMessages.forEach(function(e){t.sendMessage(e.type,e.payload)}),this.delayedMessages=[]}},{key:"removeDelayedMessages",value:function(t){this.delayedMessages=this.delayedMessages.filter(function(e){return e.type!==t})}},{key:"setVisible",value:function(){this.iframe&&this.iframe.classList.add(Object(s.b)("messenger-iframe",{visible:!0}))}},{key:"setReady",value:function(){this.isReady=!0,this.sendDelayedMessages(),this.setVisible()}},{key:"setTransportReady",value:function(){var t=this;this.isTransportReady=!0,this.delayedMessages=this.delayedMessages.filter(function(e){return-1===p.indexOf(e.type)||(t.sendMessageToIframe(e.type,e.payload),!1)})}},{key:"reset",value:function(){this.isReady=!1,this.isTransportReady=!1,this.delayedMessages=[],Object(r.safeRemoveNode)(this.iframe),delete this.iframe}},{key:"destroy",value:function(){this.reset(),delete this.params}},{key:"blur",value:function(){this.iframe&&(this.iframe.blur(),window.focus())}},{key:"url",get:function(){return this.cachedUrl?this.cachedUrl:this.cachedUrl=this.params.url()}},{key:"origin",get:function(){if(this.cachedOrigin)return this.cachedOrigin;var t=this.url.split("/").slice(0,3).join("/");return t&&0===t.indexOf("http")||(t=Object(r.getOrigin)()),this.cachedOrigin=t}}]),t}(),d=u;Object(o.a)([c.c],u.prototype,"create",null),Object(o.a)([c.c],u.prototype,"sendMessage",null),Object(o.a)([c.c],u.prototype,"sendMessageToIframe",null),Object(o.a)([c.c],u.prototype,"sendDelayedMessages",null),Object(o.a)([c.c],u.prototype,"removeDelayedMessages",null),Object(o.a)([c.c],u.prototype,"setVisible",null),Object(o.a)([c.c],u.prototype,"setReady",null),Object(o.a)([c.c],u.prototype,"setTransportReady",null),Object(o.a)([c.c],u.prototype,"reset",null),Object(o.a)([c.c],u.prototype,"destroy",null),Object(o.a)([c.c],u.prototype,"blur",null);var h=n(6),m=n(18),f=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,i=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){i=!0,r=t}finally{try{!o&&s.return&&s.return()}finally{if(i)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),y=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();var b=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return o.isChatVisible=!1,o.errorTimers={},o.isChatLoadFailed=!1,o.isChatCreated=!1,o.defaultFlags={newHeader:1,embed_button:1},o.wasReady=!1,o.ERROR_TIMEOUT=3e4,o.buckets=new a.RequestsBucket,o.defaultFlags=Object.assign(Object.assign({},o.defaultFlags),null==t?void 0:t.defaultFlags),Object(c.a)(function(){o.messageHandler.register("ready",o.handleReadyMessage).register("unload",o.handleUnmount).register("error",o.handleErrorMessage).register("fullscreenOn",o.handleFullscreenOn).register("fullscreenOff",o.handleFullscreenOff).register("transportReady",o.handleTransportReady).register("request",o.handleRequest).register("chatHistoryLoaded",o.handleChatLoaded).register("chatListLoaded",o.handleChatListLoaded).register("chatLoadError",o.handleChatLoadError).register("sendMessageOk",o.handleSendMessageOk).register("sendImageOk",o.handleSendMessageOk).register("sendMessageError",o.handleSendMessageError).register("sendImageError",o.handleSendMessageError),window.addEventListener("message",o.handleMessage),window.addEventListener("visibilitychange",o.handleVisibility),o.addListener("error",o.logError)}),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,m["a"]),y(e,[{key:"initMessengerIframe",value:function(){var t=this;this.messengerIframe=new d({container:this.refs.mount,allow:this.options.iframeAllow,iframeOpenData:{guid:this.options.guid,chatId:this.options.chatId,inviteHash:this.options.inviteHash},authToken:this.options.authToken,onError:this.handleIframeError,url:function(){return t.getIframeUrl()}})}},{key:"iframeOpen",value:function(t,e){var n=this;this.messengerIframe.sendMessage("iframe-open",Object.assign(Object.assign({},t),{visitId:this.widgetId,clickId:e,eventTimestamp:Date.now()})),this.clearErrorTimeout("chatNotLoaded"),this.clearErrorTimeout("chatListNotLoaded");var o=void 0;t.guid||t.chatId||t.inviteHash?o="chatNotLoaded":t.chatList&&(o="chatListNotLoaded"),!this.wasReady&&o&&this.setErrorTimeout(o,function(){n.emit("error",{error:new Error(o+": timeout"),code:o,additional:{guid:null==t?void 0:t.guid,chatId:null==t?void 0:t.chatId,inviteHash:null==t?void 0:t.inviteHash},loggable:!0})})}},{key:"destroy",value:function(){window.removeEventListener("message",this.handleMessage),window.removeEventListener("visibilitychange",this.handleVisibility),r.isServiceWorkerSupported&&navigator.serviceWorker.removeEventListener("message",this.handleMessage),this.messengerIframe.destroy(),this.clearAllErrorTimeout(),function t(e,n,o){null===e&&(e=Function.prototype);var i=Object.getOwnPropertyDescriptor(e,n);if(void 0===i){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,n,o)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(o):void 0}(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"destroy",this).call(this)}},{key:"sendMessage",value:function(t,e,n){this.messengerIframe.sendMessage(t,e,n)}},{key:"sendTextMessage",value:function(t){var e=this;return this.buckets.request(function(n){return e.sendMessage("sendTextMessage",Object.assign(Object.assign({},t),{reqId:n}),!0),n})}},{key:"sendImage",value:function(t){var e=this;return this.buckets.request(function(n){return e.sendMessage("sendImage",Object.assign(Object.assign({},t),{reqId:n}),!0),n})}},{key:"getIframeUrl",value:function(t){var e=this.options,n=Object.assign(Object.assign(Object.assign({lang:e.lang,parentOrigin:Object(r.getOrigin)(),parentUrl:window.location.href,serviceId:e.serviceId,workspaceId:e.workspaceId,unreadCounterChatId:e.unreadCounterChatId,unreadCounterOtherGuid:e.unreadCounterOtherGuid,unreadCounterNsFilter:e.unreadCounterNsFilter,utm_source:"widget",utm_medium:"iframe",widgetId:this.widgetId,expectedUserGuid:e.expectedUserGuid,widgetInitTimestamp:Date.now()},e.iframeUrlParams),t),this.getFlags()),o=Object(r.queryStringify)(Object(r.replaceTld)(e.iframeUrl),n);return e.chatId&&(o+="#/chats/"+encodeURIComponent(e.chatId)),o}},{key:"getFlags",value:function(){var t=this,e=(this.options.iframeUrlParams||{}).flags,n={};(Object.keys(this.defaultFlags).forEach(function(e){n[e]=t.defaultFlags[e]}),this.options.authToken&&(n.waitToken=1),this.options.fullscreen&&(n.fullscreenSupported=1),"string"==typeof e)&&e.split(";").forEach(function(t){var e=t.split("="),o=f(e,2),i=o[0],r=o[1];n[i]=r});return{flags:Object.keys(n).reduce(function(t,e){return void 0!==e&&void 0!==n[e]&&t.push(e+"="+n[e]),t},[]).join(";")}}},{key:"createMessengerIframe",value:function(){this.messengerIframe.create(),this.options.themeVariables&&this.sendThemeVariables(this.options.themeVariables),this.setMessengerIframeLoading()}},{key:"setMessengerIframeLoading",value:function(){this.hideError(),this.setErrorTimeout("iframeNotLoaded",this.showErrorOnTimeout),this.showLoader()}},{key:"handleIframeError",value:function(){this.showErrorOnTimeout()}},{key:"showErrorOnTimeout",value:function(){this.emit("error",{error:new Error("Ready timeout"),code:"TIMEOUT",loggable:!0}),this.messengerIframe.reset(),this.hideLoader(),this.showError(),this.isChatLoadFailed=!0}},{key:"handleOnErrorRetryClick",value:function(){this.createMessengerIframe()}},{key:"handleMessage",value:function(t){var e=t.data;if(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){}if((!e.widgetId||e.widgetId===this.widgetId)&&e&&e.type&&"messenger"===e.namespace){if("ready"===e.type){if(this.isChatCreated)return;this.isChatCreated=!0,this.messengerIframe.setReady()}this.messageHandler.handle(e.type,e.payload)}}}},{key:"handleTransportReady",value:function(){this.messengerIframe.setTransportReady()}},{key:"handleRequest",value:function(t){var e=this,n=t.method,o=t.requestId;this.emit("request:"+n,{respond:function(t){e.sendMessage("requestResponse",{requestId:o,data:t},!1)},error:function(t){e.sendMessage("requestResponse",{requestId:o,error:t},!1)},unsupported:function(){e.sendMessage("requestResponse",{requestId:o,error:"not_supported"},!1)}})}},{key:"ready",value:function(){this.wasReady?this.emit("reload"):this.emit("ready"),this.hideLoader(),this.hideError(),this.hideClose(),this.isChatLoadFailed=!1,this.isChatCreated=!0,this.wasReady=!0}},{key:"handleReadyMessage",value:function(){this.ready()}},{key:"handleUnmount",value:function(){this.setMessengerIframeLoading(),this.isChatCreated=!1}},{key:"handleFullscreenOn",value:function(){this.setFullscreen()}},{key:"handleFullscreenOff",value:function(){this.cancelFullscreen()}},{key:"handleErrorMessage",value:function(t){this.emit("error",t),t&&"NEED_COOKIE"===t.code&&(this.hideLoader(),this.hideError(),this.messengerIframe.setVisible())}},{key:"handleSendMessageOk",value:function(t){this.buckets.result(t.reqId,void 0,"ok")}},{key:"handleSendMessageError",value:function(t){this.buckets.result(t.reqId,t.error)}},{key:"showLoader",value:function(){this.refs.loader.setMode({visible:!0})}},{key:"hideLoader",value:function(){this.refs.loader.removeMode({visible:!0})}},{key:"hideClose",value:function(){this.refs.close&&this.refs.close.removeMode({visible:!0})}},{key:"showError",value:function(){this.clearAllErrorTimeout(),this.refs.error.setMode({visible:!0})}},{key:"hideError",value:function(){this.clearErrorTimeout("iframeNotLoaded"),this.refs.error.removeMode({visible:!0})}},{key:"setErrorTimeout",value:function(t,e){this.errorTimers[t]&&this.clearErrorTimeout(t),this.errorTimers[t]=window.setTimeout(e,this.ERROR_TIMEOUT)}},{key:"clearErrorTimeout",value:function(t){this.errorTimers[t]&&(window.clearTimeout(this.errorTimers[t]),this.errorTimers[t]=void 0)}},{key:"clearAllErrorTimeout",value:function(){var t=this;Object.keys(this.errorTimers).forEach(function(e){return t.clearErrorTimeout(e)})}},{key:"cancelFullscreen",value:function(){document.body.style.overflowX=this.bodyOverflowX||"",document.body.style.overflowY=this.bodyOverflowY||""}},{key:"setFullscreen",value:function(){this.bodyOverflowX=document.body.style.overflowX,this.bodyOverflowY=document.body.style.overflowY,document.body.style.overflowX="hidden",document.body.style.overflowY="hidden"}},{key:"handleVisibility",value:function(){"visible"!==document.visibilityState&&this.messengerIframe&&this.messengerIframe.blur()}},{key:"setVisibility",value:function(t){this.sendMessage("setVisibility",{visible:t},!0)}},{key:"handleChatLoaded",value:function(){this.clearErrorTimeout("chatNotLoaded"),this.emit("chatHistoryLoaded")}},{key:"handleChatLoadError",value:function(t){var e=t.error,n=t.additional;this.clearErrorTimeout("chatNotLoaded");var o=new Error(e.message);this.emit("error",{error:o,code:"chatNotLoaded",additional:Object.assign({source:"iframe",sourceMethod:"handleChatLoadError",code:"chatNotLoaded",stack:e.stack},n),loggable:!0})}},{key:"handleChatListLoaded",value:function(){this.clearErrorTimeout("chatListNotLoaded")}},{key:"logError",value:function(t){var e=t.loggable,n=t.error,o=t.additional;e&&Object(h.logError)(n,{additional:o})}}]),e}();Object(o.a)([c.c],b.prototype,"initMessengerIframe",null),Object(o.a)([i.bind],b.prototype,"handleIframeError",null),Object(o.a)([i.bind],b.prototype,"showErrorOnTimeout",null),Object(o.a)([i.bind],b.prototype,"handleOnErrorRetryClick",null),Object(o.a)([i.bind],b.prototype,"handleMessage",null),Object(o.a)([i.bind],b.prototype,"handleTransportReady",null),Object(o.a)([i.bind],b.prototype,"handleRequest",null),Object(o.a)([i.bind],b.prototype,"handleReadyMessage",null),Object(o.a)([i.bind],b.prototype,"handleUnmount",null),Object(o.a)([i.bind],b.prototype,"handleFullscreenOn",null),Object(o.a)([i.bind],b.prototype,"handleFullscreenOff",null),Object(o.a)([i.bind],b.prototype,"handleErrorMessage",null),Object(o.a)([i.bind],b.prototype,"handleSendMessageOk",null),Object(o.a)([i.bind],b.prototype,"handleSendMessageError",null),Object(o.a)([i.bind],b.prototype,"clearAllErrorTimeout",null),Object(o.a)([i.bind],b.prototype,"handleVisibility",null),Object(o.a)([i.bind],b.prototype,"handleChatLoaded",null),Object(o.a)([i.bind],b.prototype,"handleChatLoadError",null),Object(o.a)([i.bind],b.prototype,"handleChatListLoaded",null),Object(o.a)([i.bind],b.prototype,"logError",null)},function(t,e,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.getSettings=e.updateSettings=void 0;var i={clck:"https://yandex.ru/clck/click",project:"unknown",additional:{},level:"error"};e.updateSettings=function(t){i=o(o({},i),t)},e.getSettings=function(){return i}},,function(t,e,n){"use strict";n.d(e,"a",function(){return d});var o=n(4),i=n(3),r=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();var a=function(){function t(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.node=e,this.selector=n,this.listeners=o,o&&Object.keys(o).forEach(function(t){e.addEventListener(t,o[t])})}return r(t,[{key:"contains",value:function(t){return this.node.contains(t)}},{key:"append",value:function(t){this.node.appendChild(t)}},{key:"text",value:function(t){this.node.innerText=t}},{key:"setMode",value:function(t){this.node.classList.add(Object(i.b)(this.selector,t))}},{key:"setSize",value:function(t){var e=t.height,n=t.width;this.node.style.setProperty("height",e,"important"),this.node.style.setProperty("width",n,"important")}},{key:"unsetSize",value:function(){this.node.style.height="",this.node.style.width=""}},{key:"removeMode",value:function(t){this.node.classList.remove(Object(i.b)(this.selector,t))}},{key:"setAttribute",value:function(t,e){this.node.setAttribute(t,e)}},{key:"removeAttribute",value:function(t){this.node.removeAttribute(t)}},{key:"getNode",value:function(){return this.node}},{key:"remove",value:function(){var t=this;Object.keys(this.listeners).forEach(function(e){t.node.removeEventListener(e,t.listeners[e])}),Object(o.safeRemoveNode)(this.node),this.listeners=void 0,this.node=void 0}}]),t}(),s=/^data-/,c=/-(.)/g;var l=n(8),p=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var n=[],o=!0,i=!1,r=void 0;try{for(var a,s=t[Symbol.iterator]();!(o=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);o=!0);}catch(t){i=!0,r=t}finally{try{!o&&s.return&&s.return()}finally{if(i)throw r}}return n}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();var d=function(){function t(e){var n=this,o=e.template,i=e.styles,r=e.mountNode,l=e.listeners,u=e.nonce,d=e.themeVariables;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.refs={},this.template=o,this.styles=i,this.nonce=u;var h=document.createDocumentFragment();if(this.styles){var m=this.styleNode=document.createElement("style");this.nonce&&m.setAttribute("nonce",this.nonce),m.appendChild(document.createTextNode(this.styles)),h.appendChild(m)}var f=document.createElement("div");f.innerHTML=this.template;var y=f.firstElementChild;if(!y)throw new Error("Bad template");h.appendChild(document.createComment("noindex")),h.appendChild(y),h.appendChild(document.createComment("/noindex")),r.appendChild(h),[y].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(Array.prototype.slice.call(y.querySelectorAll("[data-ref]")))).forEach(function(t){var e=function(t){if(t.dataset)return t.dataset;for(var e=t.attributes,n={},o=0;o<e.length;o++){var i=e[o];i&&i.name.match(s)&&(n[i.name.slice(5).replace(c,function(t,e){return e.toUpperCase()})]=i.value)}return n}(t),o=e.ref,i=e.attachTo;if(!o)throw new Error("Attribute data-ref should be non empty string");if(n.refs[o])throw new Error("Ref "+o+" aready defined");"body"===i&&document.body.appendChild(t);var r=o.split(":"),u=p(r,2),d=u[0],h=u[1];n.refs[d]=new a(t,h||d,l[o])}),this.setThemeVariables(d)}return u(t,[{key:"destroy",value:function(){var t=this;Object.keys(this.refs).forEach(function(e){t.refs[e].remove()}),this.refs=void 0,this.styleNode&&Object(o.safeRemoveNode)(this.styleNode)}},{key:"setThemeVariables",value:function(t){t&&this.refs.widget&&Object(l.a)(this.refs.widget.getNode(),t)}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var o=n(0),i=n(1),r=n(6),a=n(27),s=n(2),c=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();var l=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.commands={}}return c(t,[{key:"register",value:function(t,e){return this.commands[t]=e,this}},{key:"default",value:function(t){return this.defaultHandler=t,this}},{key:"handle",value:function(t,e){var n=this.commands[t];n?n(e):this.defaultHandler&&this.defaultHandler(t,e)}}]),t}(),p=n(5),u=n(12),d=n(8),h=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();var m={chatChange:"chatEnter",chatLeave:"chatLeave",chatHistoryLoaded:"chatHistoryLoaded",channelSubscribed:"channelSubscribed",channelUnsubscribed:"channelUnsubscribed",members:"membersChange",auth:"authChange","send-message":"messageSent",authRequest:"authRequest",error:"error",counter:"unreadCounterChange",catchUrlClick:"catchUrlClick",userNeedReAssign:"userNeedReAssign",userLoaded:"userLoaded",unreadCountersByChats:"unreadCountersByChats"},f=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o._widgetId="msngr_widget_"+Object(u.a)(),o.defaultFlags={},Object(s.a)(function(){o.options=o.prepareOptions(Object.assign(Object.assign({},n),o.constructor.overrideOptions),t),Object(r.updateSettings)({service:""+o.options.serviceId,additional:Object.assign(Object.assign({},Object(r.getSettings)().additional),{workspaceId:""+o.options.workspaceId})}),o.template=o.createTemplate(),o.messageHandler=(new l).default(o.defaultMessageHandler)}),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,a["EventEmitter"]),h(e,[{key:"sendServiceMeta",value:function(t){this.sendMessage("serviceMeta",t,!0)}},{key:"sendThemeVariables",value:function(t){this.sendMessage("setThemeVariables",{themeVariables:{value:t}},!0)}},{key:"setThemeVariables",value:function(t){var e=Object(d.b)(t),n=e.widgetThemeVariables,o=e.themeVariables;this.template.setThemeVariables(n),o&&this.sendThemeVariables(o)}},{key:"sendChatMetadata",value:function(t){this.sendMessage("chatMetadata",t,!0)}},{key:"destroy",value:function(){this.destroyed||(this.template.destroy(),this.destroyed=!0)}},{key:"defaultMessageHandler",value:function(t,e){var n=m[t];n&&this.emit(n,e)}},{key:"onShowEntryPoint",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(p.b)("entry-point-shown",{stat:t})}},{key:"getOpenChatParams",value:function(t){return t||{guid:this.options.guid,chatId:this.options.chatId,inviteHash:this.options.inviteHash,helloMessage:this.options.helloMessage}}},{key:"generateClickId",value:function(){return Object(u.a)()}},{key:"widgetId",get:function(){return this._widgetId}},{key:"refs",get:function(){return this.template.refs}}]),e}();f.version="1.42.0",f.overrideOptions={},Object(o.a)([s.c],f.prototype,"sendServiceMeta",null),Object(o.a)([s.c],f.prototype,"setThemeVariables",null),Object(o.a)([s.c],f.prototype,"sendChatMetadata",null),Object(o.a)([s.c],f.prototype,"destroy",null),Object(o.a)([i.bind],f.prototype,"defaultMessageHandler",null),Object(o.a)([s.c],f.prototype,"onShowEntryPoint",null)},function(t,e,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},i=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var o=Array(t),i=0;for(e=0;e<n;e++)for(var r=arguments[e],a=0,s=r.length;a<s;a++,i++)o[i]=r[a];return o};Object.defineProperty(e,"__esModule",{value:!0}),e.handleError=e.sendError=e.baseNormalizeError=void 0;var r=n(47),a=n(15);e.baseNormalizeError=function(t){void 0===t&&(t={});var e=t.filename||t.fileName||"",n=t.error&&t.error.stack||t.stack||"",o=t.message||"";return{file:e,line:t.lineno||t.lineNumber,col:t.colno||t.colNumber,stack:n,message:o,additional:t.additional,referrer:"undefined"!=typeof location&&location.href}};function s(t){for(var e,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];"undefined"!=typeof console&&(e=console.error).call.apply(e,i([console,t],n))}e.sendError=function(t,e){void 0===e&&(e={});var n=a.getSettings(),o={"-url":t.file,"-line":t.line,"-col":t.col,"-stack":t.stack,"-env":n.env,"-msg":t.message,"-project":n.project,"-page":t.page||n.page,"-level":t.level,"-version":n.version,"-referrer":t.referrer,"-additional":e.additional,"-ua":"undefined"!=typeof navigator&&navigator.userAgent,"-ts":+new Date};n.debug&&s("[error-counter]",o),r.send(t.path,function(t){var e=[];return Object.keys(t).map(function(n){if(t.hasOwnProperty(n)&&(t[n]||0===t[n])){var o=encodeURIComponent(t[n]).replace(/\*/g,"%2A");e.push(n+"="+o)}}),e.join(",")}(o))};e.handleError=function(t){var n=a.getSettings();t.path="690.2354";var i="";try{i=JSON.stringify(o(o({},n.additional),t.additional))}catch(t){s("[error-counter] json.stringify:",t)}e.sendError(t,{additional:i})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.noop=void 0;e.noop=function(){}},function(t,e,n){"use strict";var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();Object.defineProperty(e,"__esModule",{value:!0}),e.Request=void 0;var i=n(66),r=1e4,a=function(){function t(e){var n=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,a=arguments[2];!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.onResult=e,this.timeout=new i.Timer(function(){n.result(new a)},o)}return o(t,[{key:"result",value:function(t,e){this.clearTimeout(),t?this.onResult(t):this.onResult(void 0,e)}},{key:"clearTimeout",value:function(){this.timeout&&(this.timeout.cancel(),this.timeout=void 0)}}]),t}();e.Request=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.RequestTimeoutError=void 0;var o=n(23),i=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"Request timeout",t));return Object.setPrototypeOf(n,e.prototype),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.TransportError),e}();e.RequestTimeoutError=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TransportError=void 0;var o=n(67),i=function(t){function e(t,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var o=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,"TransportError, "+t,n));return Object.setPrototypeOf(o,e.prototype),o}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,o.BaseError),e}();e.TransportError=i},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.BaseError=void 0;var r=n(25),a=function(t){function e(n,o){var i=t.call(this,n)||this;return o&&(i.stack=o),Object.setPrototypeOf(i,e.prototype),i}return i(e,t),e.handle=function(t){return new r.ErrorVisitor(this,t)},e.is=function(t){return t instanceof this},e.prototype.accept=function(t){this instanceof t.error&&t.callback(this)},e}(Error);e.BaseError=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createHandler=e.ErrorVisitor=void 0;var o=function(){return function(t,e){this.error=t,this.callback=e}}();e.ErrorVisitor=o,e.createHandler=function(t,e){return Object.keys(t).reduce(function(t,n){return t[n]=function(t){return e(t,n)},t},{})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TransportError=e.RequestTimeoutError=e.Request=e.RequestsBucket=void 0;var o=n(65);Object.defineProperty(e,"RequestsBucket",{enumerable:!0,get:function(){return o.RequestsBucket}});var i=n(21);Object.defineProperty(e,"Request",{enumerable:!0,get:function(){return i.Request}});var r=n(22);Object.defineProperty(e,"RequestTimeoutError",{enumerable:!0,get:function(){return r.RequestTimeoutError}});var a=n(23);Object.defineProperty(e,"TransportError",{enumerable:!0,get:function(){return a.TransportError}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EventEmitter=void 0;var o=function(){function t(){this.listeners={}}return t.prototype.addListener=function(t,e){this.listeners[t]=this.listeners[t]||[],this.listeners[t].push(e)},t.prototype.removeListener=function(t,e){this.listeners[t]&&(this.listeners[t]=this.listeners[t].filter(function(t){return t!==e}),this.listeners[t].length||this.removeAllListeners(t))},t.prototype.removeAllListeners=function(t){var e=this;t?this.listeners[t]&&delete this.listeners[t]:Object.keys(this.listeners).forEach(function(t){return delete e.listeners[t]})},t.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];(this.listeners[t]||[]).forEach(function(t){return t.apply(void 0,e)})},t}();e.EventEmitter=o},function(t){t.exports=JSON.parse('{"close":"","error-title":"   ","error-try-again":"  ","widget_promo_0":"     ","widget_promo_1":"   ,   ","widget_promo_2":"        "}')},function(t){t.exports=JSON.parse('{"close":"Close","error-title":"Failed to load chat","error-try-again":"Try again","widget_promo_0":"Follow channels and share with friends","widget_promo_1":"Chat with family and friends wherever Yandex is","widget_promo_2":"Send voice messages that automatically get converted to text"}')},function(t){t.exports=JSON.parse('{"close":"Fermer","error-title":"Impossible de charger le chat","error-try-again":"Ressayer","widget_promo_0":"Suivre les canaux et partager avec des amis","widget_promo_1":"Discutez avec votre famille et vos amis avec Yandex, o que vous soyez","widget_promo_2":"Envoyez des messages vocaux automatiquement convertis en texte"}')},function(t){t.exports=JSON.parse('{"close":"","error-title":"  ","error-try-again":" ","widget_promo_0":"     ","widget_promo_1":"   ,    Yandex","widget_promo_2":"      "}')},function(t){t.exports=JSON.parse('{"close":"","error-title":"   ","error-try-again":"   ","widget_promo_0":"    ","widget_promo_1":"     ","widget_promo_2":"      "}')},function(t){t.exports=JSON.parse('{"close":"Zatvori","error-title":"Uitavanje askanja nije uspelo","error-try-again":"Pokuajte jo jednom","widget_promo_0":"itajte kanale i delite se sa blinjima","widget_promo_1":"Razgovarajte sa blinjima, gde god se nalazi Yandex","widget_promo_2":"Poaljite glasovne poruke i one ce se pretvoriti u tekst"}')},function(t){t.exports=JSON.parse('{"close":"Kapat","error-title":"Sohbet yklenemedi","error-try-again":"Tekrar dene","widget_promo_0":"Kanallar takip edin ve arkadalarnzla paylan","widget_promo_1":"Yandex\'in olduu her yerde arkadalarnzla yazn","widget_promo_2":"Otomatik olarak metne evrilen sesli mesajlar gnderin"}')},function(t){t.exports=JSON.parse('{"close":"Yopish","error-title":"Chatni yuklash imkoni bolmadi","error-try-again":"Qayta urinish","widget_promo_0":"Kanallarni kuzating va yaqinlaringizga ulashing","widget_promo_1":"Yandex bor istalgan joyda yaqinlaringiz bilan muloqot qiling","widget_promo_2":"Ovozli xabarlar yuboring  ular matnga aylanadi"}')},function(t,e,n){"use strict";var o=n(3);e.a=function(t){var e=Object(o.a)("loader");return'\n        <div data-ref="loader" class="'+e({theme:t})+'">\n            <div class="'+e("spinner")+'"></div>\n        </div>\n    '}},function(t,e,n){"use strict";var o=n(3),i=n(10);e.a=function(t){var e=Object(o.a)("error");return'\n        <div data-ref="error" class="'+e({mobile:t.isMobile,theme:t.theme})+'">\n            <div class="'+e("title")+'">'+Object(i.a)("error-title",t.lang)+'</div>\n            <div class="'+e("button")+'">'+Object(i.a)("error-try-again",t.lang)+"</div>\n        </div>\n    "}},function(t,e,n){"use strict";function o(t,e){var n=window.Ya;void 0!==n&&void 0!==n.Rum&&"function"==typeof n.Rum.sendResTiming&&(n.Rum.sendResTiming("messenger_"+t+"_yastatic","https://yastatic.net/s3/chat/"+t+".js"),n.Rum.sendResTiming("messenger_"+t+"_yastatic","https://yastatic.net/s3/chat/"+e+"/"+t+".js"),n.Rum.sendResTiming("messenger_"+t+"_s3","https://chat.s3.yandex.net/"+t+".js"),n.Rum.sendResTiming("messenger_"+t+"_s3","https://chat.s3.yandex.net/"+e+"/"+t+".js"))}n.d(e,"a",function(){return o})},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var o=n(0),i=n(1),r=n(9),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();var s=/^https?:\/\/yandex\.[^/]+\/chat/;var c=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.callback=e}return a(t,[{key:"start",value:function(){Object(r.b)()||window.addEventListener("click",this.handleLink,!0)}},{key:"stop",value:function(){Object(r.b)()||window.removeEventListener("click",this.handleLink,!0)}},{key:"handleLink",value:function(t){for(var e=t.target;e;){if("A"===e.tagName&&s.test(e.href))return this.callback(e.href),void t.preventDefault();e=e.parentElement}}}]),t}();Object(o.a)([i.bind],c.prototype,"handleLink",null)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var o=n(0),i=n(1),r=n(4),a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();var s=function(){function t(e,n,o,i,a,s){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.badge=e,this.badgeCount=n,this.options=o,this.onUpdated=i,this.updateBadgeHook=a,s&&(this.unreadCounter=s({callback:this.handleUnreadCounter,serviceId:this.options.serviceId,workspaceId:this.options.workspaceId,chatId:this.options.unreadCounterChatId,guid:this.options.unreadCounterOtherGuid,url:Object(r.replaceTld)(this.options.unreadUrl),ns:this.options.unreadCounterNsFilter}))}return a(t,[{key:"start",value:function(){var t;this.options.unreadDisabled||null===(t=this.unreadCounter)||void 0===t||t.start()}},{key:"stop",value:function(){var t;this.options.unreadDisabled||null===(t=this.unreadCounter)||void 0===t||t.stop()}},{key:"set",value:function(t){var e;this.update(t)&&(null===(e=this.unreadCounter)||void 0===e||e.removeData())}},{key:"handleUnreadCounter",value:function(t){this.update(t)}},{key:"update",value:function(t){var e=this.lastValue,n=t.valueForChat,o=void 0===n?0:n,i=t.value,r=void 0===i?0:i,a=t.lastTimestamp,s=void 0===a?0:a,c=t.seqnoForChat,l=void 0===c?0:c;return(!e||r!==e.value||o!==e.valueForChat||s!==e.lastTimestamp||l!==e.seqnoForChat)&&(this.lastValue={value:r,lastTimestamp:s,valueForChat:o,seqnoForChat:l},this.updateBadge(r),this.onUpdated(this.lastValue),!0)}},{key:"updateBadge",value:function(t){var e=t>0,n=this.badge,o=this.badgeCount,i=this.options.badgeMaxCount;this.updateBadgeHook&&this.updateBadgeHook(n,t)||(e?(n.setMode({"has-count":!0}),o.text(String(i<t?i+"+":t))):(n.removeMode({"has-count":!0}),o.text("")))}},{key:"value",get:function(){return this.lastValue}}]),t}();Object(o.a)([i.bind],s.prototype,"set",null),Object(o.a)([i.bind],s.prototype,"handleUnreadCounter",null)},function(t,e,n){"use strict";n.d(e,"a",function(){return l});var o=n(4),i=n(7),r=n(8),a={height:"520px",width:"360px"},s={legacy:{width:"420px",height:"600px"},hidden:{width:"420px",height:"600px"}};function c(t,e,n,o){return t&&!o?t:e?"fixed":o?"target":n===document.body?"static":"target"}function l(t,e){var n=t.collapsedDesktop||e.collapsedDesktop;-1===["always","never","hover"].indexOf(n)&&(n="hover");var l=t.collapsedTouch||e.collapsedTouch;-1===["always","never"].indexOf(l)&&(l="always"),t.buttonText||(n="always",l="always");var p,u,d,h=void 0===t.isMobile?i.b:t.isMobile,m=t.theme||e.theme,f=t.mountNode||document.body,y=t.fullscreen,b=void 0===y?e.fullscreen:y,g=Object(r.b)(t.themeVariables),v=g.widgetThemeVariables,w=g.themeVariables;return Object.assign(Object.assign({},t),{config:e,autocloseable:"autocloseable"in t?t.autocloseable:e.autocloseable,badgeType:t.badgeType||e.badgeType,badgeCount:Number(t.badgeCount||0),badgeMaxCount:Number(t.badgeMaxCount||e.badgeMaxCount),collapsedDesktop:n,collapsedTouch:l,serviceId:void 0===t.serviceId?void 0:Number(t.serviceId),isMobile:h,lang:t.lang||e.lang,mountNode:f,size:h?void 0:Object.assign(Object.assign(Object.assign({},a),s[m]),t.size?(p=t.size,u=p.height,d=p.width,Object.assign(Object.assign({},u?{height:u}:null),d?{width:d}:null)):{}),theme:m,unreadUrl:Object(o.replaceTld)(t.unreadUrl||e.unreadUrl),buttonIcon:t.buttonIcon||e.buttonIconByTheme[m]||e.buttonIcon,buttonCollapsed:h?l:n,chatPosition:c(t.chatPosition,h,f,t.popupTargetNode),iframeUrl:t.iframeUrl||e.iframeUrl,iframeAllow:e.iframeAllow,fullscreen:b,widgetThemeVariables:v,themeVariables:w})}},function(t,e,n){"use strict";function o(){return"function"==typeof window.yandexChatWidgetCallback}function i(){var t;o()&&(null===(t=window.yandexChatWidgetCallback)||void 0===t||t.call(window),delete window.yandexChatWidgetCallback,document.removeEventListener("DOMContentLoaded",i,!1))}function r(t){window.Ya=window.Ya||{},window.Ya.ChatWidget=t,o()&&("interactive"===document.readyState||"complete"===document.readyState?i():document.addEventListener("DOMContentLoaded",i,!1))}n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r})},function(t,e,n){"use strict";n.d(e,"b",function(){return l});var o=n(3),i=function(t){var e=Object(o.a)("button"),n=t.text?'\n        <div class="'+e("text")+'">\n            <div class="'+e("text-container",{"theme-extended":t.themeExtended})+'">'+t.text+"</div>\n        </div>":"";return'\n        <a data-ref="button" class="'+e({theme:t.theme,mobile:t.isMobile,collapsed:t.collapsed,size:t.size,desktop:!t.isMobile})+'">\n            <div class="'+e("container",{size:t.size,"theme-extended":t.themeExtended})+'">\n                '+function(t){var e=Object(o.a)("icon"),n={type:t.type,size:t.size};return"happy_new_year"===t.themeExtended?'<div class="'+e(Object.assign(Object.assign({},n),{"theme-extended":t.themeExtended}))+'"></div>':"legacy"===t.theme?'<svg class="'+e(n)+'" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">\n            <path d="M22.5036,11.18909,5.971,1.78668a.975.975,0,0,0-1.4527.859V5.17828S10.0119,7.3175,10.459,7.48456a.63387.63387,0,0,1,.4759.748c-.08008.20026-.24958.17829-.73841.05927s-7.6358-1.89789-7.6358-1.89789a.8591.8591,0,0,0-.99176,1.174l1.49475,3.556s9.637.40259,9.98413.423c.34192.02014.545.18481.551.45324-.00605.26825-.20911.433-.551.45307-.34711.02038-9.98413.423-9.98413.423l-1.49475,3.556a.85912.85912,0,0,0,.99176,1.174s7.147-1.779,7.6358-1.89789.65833-.141.73841.05921a.63385.63385,0,0,1-.4759.748c-.44708.16712-5.94067,2.30628-5.94067,2.30628v2.53259a.97492.97492,0,0,0,1.4527.859L22.5036,12.811a.91115.91115,0,0,0,0-1.62188Z"/>\n        </svg>':'<svg class="'+e(n)+'" viewBox="0 0 28 28" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <g clip-path="url(#clip-mssngr-widget-icon)">\n        <g filter="url(#filter0-mssngr-widget)">\n            <path fill-rule="evenodd" clip-rule="evenodd" d="M14 0C2.8 0 0 2.8 0 14C0 25.2 2.8 28 14 28C25.2 28 28 25.2 28 14C28 2.8 25.2 0 14 0Z" fill="#00D7D7"/>\n            <path fill-rule="evenodd" clip-rule="evenodd" d="M14 0C2.8 0 0 2.8 0 14C0 25.2 2.8 28 14 28C25.2 28 28 25.2 28 14C28 2.8 25.2 0 14 0Z" fill="url(#paint0_linear-mssngr-widget)"/>\n            <path fill-rule="evenodd" clip-rule="evenodd" d="M14 0C2.8 0 0 2.8 0 14C0 25.2 2.8 28 14 28C25.2 28 28 25.2 28 14C28 2.8 25.2 0 14 0Z" fill="url(#paint1_linear-mssngr-widget)"/>\n        </g>\n            <path d="M25.0249 13.7106C24.9593 13.5028 24.8061 13.3169 24.5983 13.1965L8.49834 4.16217C7.86396 3.81217 7.0874 4.2606 7.0874 4.99342V7.11529V8.38404L25.0249 13.7106Z" fill="#FAFFFE"/>\n            <path d="M7.0874 20.9013V23.0231C7.0874 23.745 7.86396 24.2044 8.49834 23.8544L24.5983 14.831C24.8171 14.7106 24.9593 14.5247 25.0249 14.3169L7.0874 19.6216V20.9013Z" fill="#C8F4F9"/>\n            <path d="M7.08759 8.37787L5.87353 8.01693C5.07509 7.77631 4.38603 8.60756 4.7579 9.35131L5.41415 10.6529L6.87978 13.5732L7.09853 13.9997V8.37787H7.08759Z" fill="#DEF8FB"/>\n            <path d="M7.0874 13.9998H25.0796C25.0796 13.8904 25.0577 13.792 25.0249 13.6936L7.0874 8.37793V13.9998Z" fill="#DEF8FB"/>\n            <path d="M7.09853 14.0005L4.7579 18.6489C4.38603 19.3927 5.07509 20.2239 5.87353 19.9833L7.08759 19.6224V14.0005H7.09853Z" fill="#FAFFFE"/>\n            <path d="M7.0874 19.6219L25.0358 14.3063C25.0686 14.2078 25.0905 14.0984 25.0905 14H7.0874V19.6219Z" fill="#FAFFFE"/>\n        </g>\n        <defs>\n        <filter id="filter0-mssngr-widget" x="-25.7204" y="-14.7308" width="79.4408" height="79.4408" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">\n            <feFlood flood-opacity="0" result="BackgroundImageFix"/>\n            <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"/>\n            <feOffset dy="10.9896"/>\n            <feGaussianBlur stdDeviation="12.8602"/>\n            <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.06 0"/>\n            <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow"/>\n            <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow" result="shape"/>\n        </filter>\n        <linearGradient id="paint0_linear-mssngr-widget" x1="44.8437" y1="-28.5469" x2="14" y2="16.5156" gradientUnits="userSpaceOnUse">\n            <stop stop-color="white"/>\n            <stop offset="1" stop-color="white" stop-opacity="0"/>\n        </linearGradient>\n        <linearGradient id="paint1_linear-mssngr-widget" x1="14" y1="33.3594" x2="34.3437" y2="-11.4844" gradientUnits="userSpaceOnUse">\n            <stop stop-color="#00BCBC"/>\n            <stop offset="1" stop-color="white" stop-opacity="0"/>\n        </linearGradient>\n        <clipPath id="clip-mssngr-widget-icon">\n            <path d="M0 0H28V28H0V0Z" fill="white"/>\n        </clipPath>\n        </defs>\n    </svg>'}({theme:t.theme,type:t.icon,size:t.size,themeExtended:t.themeExtended})+"\n                "+n+"\n            </div>\n            "+function(t){var e=Object(o.a)("badge"),n=t.maxCount<(t.count||0)?t.maxCount+"+":t.count;return'\n        <div data-ref="badge" class="'+e({theme:t.theme,type:t.type,"has-count":Boolean(t.count),size:t.size})+'">\n            <div data-ref="badgeCount" class="'+e("count")+'">'+(n||"")+"</div>\n        </div>\n    "}({count:t.badgeCount,maxCount:t.badgeMaxCount,theme:t.theme,type:t.badgeType,size:t.size})+"\n        </a>"},r=n(37),a=n(36),s=n(13),c=Object(o.a)("widget");function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=Boolean(t.isMobile),o="always"===t.buttonCollapsed?"large":"normal",r=t.additionalContent,a=void 0===r?"":r;return'\n        <div data-ref="widget" class="'+c({desktop:!n,theme:t.theme,mobile:n,size:o,shadow:!e})+'">\n            '+a+"\n            "+i({badgeType:t.badgeType,badgeCount:t.badgeCount,badgeMaxCount:t.badgeMaxCount,collapsed:t.buttonCollapsed,icon:t.buttonIcon,isMobile:n,text:t.buttonText,theme:t.theme,themeExtended:t.themeExtended,size:o})+"\n            "+e+"\n        </div>\n    "}e.a=function(t){var e,n,i,p=Boolean(t.isMobile),u="target"===t.chatPosition?"body":void 0;return l(t,"\n        "+(e={isMobile:p,attachTo:u},n=Object(o.a)("paranja"),'<div data-ref="paranja" data-attach-to="'+(void 0===(i=e.attachTo)?"":i)+'" class="'+n({mobile:e.isMobile})+'"></div>')+"\n        "+Object(s.b)({isMobile:p,position:t.chatPosition,theme:t.theme,attachTo:u,size:t.size},"\n            "+function(t){var e=Object(o.a)("header");return'\n        <div data-ref="header" class="'+e({empty:!t.text,theme:t.theme})+'">\n            <div class="'+e("text")+'">\n                '+(t.text||"")+'\n            </div>\n            <div data-ref="headerClose" class="'+e("close")+'"></div>\n        </div>\n    '}({lang:t.lang,text:t.title,theme:t.theme})+"\n            "+function(t){var e=Object(o.a)("close");return'\n        <div data-ref="close" class="'+e({theme:t})+'">\n            <div data-ref="closeButton" class="'+e("button-box")+'">\n                <div class="'+e("button")+'"></div>\n            </div>\n        </div>\n    '}(t.theme)+'\n            <div data-ref="mount:widget__mount" class="'+c("mount")+'">\n                '+Object(a.a)(t.theme)+"\n            </div>\n            "+Object(r.a)({isMobile:p,lang:t.lang,theme:t.theme})+"\n        ")+"\n    ")}},function(t,e,n){"use strict";n.d(e,"a",function(){return u});var o=n(0),i=n(1),r=n(4),a=n(3),s=n(10),c=n(5),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();var p="mssngr_widget_promo_launch_value",u=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.textIndex=this.checkPromoSetting("promo-launch"===e.themeExtended),this.lang=e.lang,this.badgeType=e.badgeType}return l(t,[{key:"addPromoRef",value:function(t){this.promo=t}},{key:"handleHidePromo",value:function(t){this.promo&&(Object(c.a)(void 0,{event:"promo_launch_close",index:this.textIndex,reason:t}),this.promo.setMode({hidden:!0}),this.textIndex=-1,Object(r.setLocalStorageJsonItem)(p,{date:Date.now(),value:-1}))}},{key:"updateBadge",value:function(t,e){return this.textIndex>=0&&!e?(t.setMode({"has-count":!0}),t.removeMode({type_num:!0}),t.setMode({type_dot:!0}),!0):("num"===this.badgeType&&(t.removeMode({type_dot:!0}),t.setMode({type_num:!0})),!1)}},{key:"renderPromoContent",value:function(){return this.textIndex>=0?(Object(c.a)(void 0,{event:"promo_launch_open",index:this.textIndex}),t={text:Object(s.a)("widget_promo_"+this.textIndex,this.lang)},'<div id="promo" data-ref="promo" class='+(e=Object(a.a)("promo"))()+'>\n                <a data-ref="closePromoBtn" class='+e("close-btn")+'>\n                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path fill-rule="evenodd" clip-rule="evenodd" d="M6.79289 15.7929C6.40237 16.1834 6.40237 16.8166 6.79289 17.2071C7.18342 17.5976 7.81658 17.5976 8.20711 17.2071L12 13.4142L15.7929 17.2071C16.1834 17.5976 16.8166 17.5976 17.2071 17.2071C17.5976 16.8166 17.5976 16.1834 17.2071 15.7929L13.4142 12L17.2071 8.20711C17.5976 7.81658 17.5976 7.18342 17.2071 6.79289C16.8166 6.40237 16.1834 6.40237 15.7929 6.79289L12 10.5858L8.20711 6.79289C7.81658 6.40237 7.18342 6.40237 6.79289 6.79289C6.40237 7.18342 6.40237 7.81658 6.79289 8.20711L10.5858 12L6.79289 15.7929Z" fill="currentColor"/>\n                    </svg>\n                </a>\n                <div class='+e("text")+">"+t.text+"</div>\n            </div>"):"";var t,e}},{key:"checkPromoSetting",value:function(t){var e=Object(r.getLocalStorageJsonItem)(p);if(t&&(!e||e.value>=0&&e.value+1<3)){var n=void 0,o=Date.now();if(e&&e.date+172800>o)return-1;e?e.date+172800<=o&&(n=e.value+1):n=0;var i={date:o,value:n};return Object(r.setLocalStorageJsonItem)(p,i),n}return-1}}]),t}();Object(o.a)([i.bind],u.prototype,"addPromoRef",null),Object(o.a)([i.bind],u.prototype,"handleHidePromo",null)},,function(t,e){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(t){if(null==t)throw new TypeError("Cannot convert first argument to object");for(var e=Object(t),n=1;n<arguments.length;n++){var o=arguments[n];if(null!=o)for(var i=Object.keys(Object(o)),r=0,a=i.length;r<a;r++){var s=i[r],c=Object.getOwnPropertyDescriptor(o,s);void 0!==c&&c.enumerable&&(e[s]=o[s])}}return e}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.send=void 0;var o=n(15);e.send=function(t,e){var n=function(t,e){return["/path="+t,e?"/vars="+e:"","/cts="+(new Date).getTime(),"/*"]}(t,e).join(""),i=o.getSettings().clck;if(i&&!(navigator&&navigator.sendBeacon&&navigator.sendBeacon(i,n)))if("undefined"!=typeof window&&window.fetch)fetch(i,{method:"POST",body:n});else{var r=new XMLHttpRequest;r.open("POST",i),r.send(n)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.logError=void 0;var o=n(19),i=["type","additional","level","referrer"];e.logError=function(t,e){void 0===e&&(e={});var n=o.baseNormalizeError(t);n.message=[e.message,n.message].filter(Boolean).join("; ")||"Empty error";for(var r=0;r<i.length;r++){var a=i[r];e[a]?n[a]=e[a]:t&&t[a]&&(n[a]=t[a])}o.handleError(n)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasAuth=void 0,e.hasAuth=function(){return-1!==document.cookie.search(/(^|; )yandex_login=[^;]+/)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.debounce=void 0,e.debounce=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=void 0,i=void 0,r=void 0;function a(){var e=i,n=r;i=void 0,r=void 0,e&&t.call.apply(t,[n].concat(function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}(e)))}var s=function(){for(var t=arguments.length,s=Array(t),c=0;c<t;c++)s[c]=arguments[c];i=s,r=this,o?clearTimeout(o):n&&a(),o=setTimeout(function(){o=void 0,n||a()},e)};return s.cancel=function(){i=void 0,r=void 0,o&&(clearTimeout(o),o=void 0)},s.flush=function(){o&&(clearTimeout(o),o=void 0),a()},s}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.safeRemoveNode=void 0,e.safeRemoveNode=function(t){try{t&&t.parentNode&&t.parentNode.removeChild(t)}catch(t){}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isServiceWorkerSupported=void 0,e.isServiceWorkerSupported=Boolean("undefined"!=typeof navigator&&"serviceWorker"in navigator&&navigator.serviceWorker.addEventListener&&navigator.serviceWorker.removeEventListener)},function(t,e,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};Object.defineProperty(e,"__esModule",{value:!0}),e.removeLocalStorageJsonItem=e.getLocalStorageJsonItem=e.setLocalStorageJsonItem=void 0,e.setLocalStorageJsonItem=function(t,e){try{window.localStorage&&window.localStorage.setItem(t,JSON.stringify(e))}catch(t){}},e.getLocalStorageJsonItem=function(t){try{var e=window.localStorage&&window.localStorage.getItem(t);if("string"==typeof e){var n=JSON.parse(e);if(n&&"object"===(void 0===n?"undefined":o(n)))return n}}catch(t){}return null},e.removeLocalStorageJsonItem=function(t){try{window.localStorage&&window.localStorage.removeItem(t)}catch(t){}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.XmlHttpRequest=void 0;var o=n(55);e.XmlHttpRequest=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getReqestsCount=e.getRequestByIndex=e.iterator=e.timeout=e.error=e.resolve=e.unmock=e.mock=void 0;var o=window.XMLHttpRequest,i=!1;function r(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};u(t,Object.assign({status:200,response:e,responseText:JSON.stringify(e),responseType:"text"},n)),t.onload&&t.onload(new ProgressEvent("load"))}function a(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};u(t,Object.assign(Object.assign({},o),{status:e,responseText:n})),t.onerror&&t.onerror(new ProgressEvent("error"))}function s(t){l();var e=window.XMLHttpRequest.mock.instances[t];if(!e)throw new Error("Request with "+t+" was not found");return e}function c(){return l(),window.XMLHttpRequest.mock.instances.length}function l(){if(!i)throw new Error("You should mock first")}function p(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange(new Event("readystatechange"))}function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(l(),!t)throw new Error("Request is undefined");if(2!==t.readyState)throw new Error("Request is resolved");Object.assign(t,e),p(t,4)}e.mock=function(){i||(i=!0,window.XMLHttpRequest=jest.fn().mockImplementation(function(){var t=this;this.getResponseHeader=jest.fn(),this.getAllResponseHeaders=jest.fn(),this.overrideMimeType=jest.fn(),this.setRequestHeader=jest.fn().mockImplementation(function(t,e){this.requestHeaders[t]=e}),this.requestHeaders={},this.status=0,this.readyState=0,this.abort=jest.fn(function(){p(t,0),t.onabort&&t.onabort(new ProgressEvent("abort"))}),this.open=jest.fn(function(){p(t,1)}),this.send=jest.fn(function(){if(1!==t.readyState)throw new Error("Failed to execute 'send' on 'XMLHttpRequest': The object's state must be OPENED.");p(t,2)})}))},e.unmock=function(){l(),i=!1,window.XMLHttpRequest=o},e.resolve=r,e.error=a,e.timeout=function(t){p(t,0),t.ontimeout&&t.ontimeout(new ProgressEvent("timeout"))},e.iterator=function(){l();var t=-1;return{size:function(){return c()},next:function(){var e=c();return t!==e-1&&(t=Math.min(t+1,e),!0)},value:function(){return s(t)},get:function(t){return s(t)},resolveNext:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!!this.next()&&(r(this.value(),t,e),!0)},errorNext:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return!!this.next()&&(a(this.value(),t,e,n),!0)}}},e.getRequestByIndex=s,e.getReqestsCount=c},function(t,e,n){"use strict";function o(t){return(t.match(/\./g)||[]).length}Object.defineProperty(e,"__esModule",{value:!0}),e.replaceTld=e.getTld=e.isCookiedYandexTld=e.getYandexTld=e.URL_REGEX_YANDEX_TLD=e.YANDEX_TLD=void 0,e.YANDEX_TLD=["ua","ru","kz","by","com.tr","com","net","uz","fr","com.ge","az","com.am","co.il","kg","lv","lt","md","tj","tm","ee"].sort(function(t,e){return o(e)-o(t)}),e.URL_REGEX_YANDEX_TLD="yandex\\.("+e.YANDEX_TLD.map(function(t){return t.replace(/\./g,"\\.")}).join("|")+")";var i="ru";function r(t){var n=new RegExp(e.URL_REGEX_YANDEX_TLD+"$").exec(t);return n&&n[1]||""}function a(t){return t&&"net"!==t}function s(t){var e=r(t);return a(e)?e:i}e.getYandexTld=r,e.isCookiedYandexTld=a,e.getTld=s;var c=s(window.location.hostname);e.replaceTld=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c;return t.replace(/\{tld\}/,e)}},function(t,e,n){"use strict";function o(t,e){return null==e||""===e?"":encodeURIComponent(t)+"="+encodeURIComponent(String(e))}Object.defineProperty(e,"__esModule",{value:!0}),e.isYandexTeamHost=e.getOrigin=e.queryStringify=void 0,e.queryStringify=function(t,e){var n=-1===t.search(/\?/)?"?":"&",i=function(t){return t.map(function(t){var e=t.name,n=t.value;return Array.isArray(n)?n.map(function(t){return o(e,t)}).filter(Boolean).join("&"):o(e,n)}).filter(Boolean).join("&")}(Object.keys(e).map(function(t){return{name:t,value:e[t]}}));return t+(i?n+i:"")},e.getOrigin=function(){return window.location.origin||window.location.protocol+"//"+window.location.host},e.isYandexTeamHost=function(t){return-1!==t.search(/\.yandex-team\.ru$/)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.createUUID=e.guid=e.UUID_MASK=void 0;var o="xxxx-xxxx-xxxx-xxxx";function i(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:o).replace(/[xy]/g,function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})}e.UUID_MASK="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",e.guid=i,e.createUUID=function(){return i(e.UUID_MASK)}},function(t,e,n){"use strict";var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();Object.defineProperty(e,"__esModule",{value:!0}),e.Event=void 0;var i=n(20),r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.listeners=new Set}return o(t,[{key:"addListener",value:function(t){return!this.listeners.has(t)&&(this.listeners.add(t),!0)}},{key:"removeListener",value:function(t){return this.listeners.delete(t)}},{key:"removeAllListener",value:function(){this.listeners.clear()}},{key:"dispatch",value:function(e){var n=!0,o=!1,i=void 0;try{for(var r,a=this.listeners[Symbol.iterator]();!(n=(r=a.next()).done);n=!0){var s=r.value;try{var c=s(e);if(c&&c.stopPropagation)return}catch(e){t.errorHandler(e)}}}catch(t){o=!0,i=t}finally{try{!n&&a.return&&a.return()}finally{if(o)throw i}}}}]),t}();e.Event=r,r.errorHandler=i.noop},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getAxiosErrorData=void 0;e.getAxiosErrorData=function(t){var e,n,o,i,r,a,s,c,l,p,u,d,h,m,f,y,b,g;return function(t){return"config"in t}(t)?{type:"network",additional:{url:null==t?void 0:t.config.url,method:null===(e=null==t?void 0:t.config)||void 0===e?void 0:e.method,data:null===(n=null==t?void 0:t.config)||void 0===n?void 0:n.data,status:null===(o=null==t?void 0:t.response)||void 0===o?void 0:o.status,code:(null===(a=null===(r=null===(i=null==t?void 0:t.response)||void 0===i?void 0:i.data)||void 0===r?void 0:r.data)||void 0===a?void 0:a.code)||(null==t?void 0:t.code),message:(null===(l=null===(c=null===(s=null==t?void 0:t.response)||void 0===s?void 0:s.data)||void 0===c?void 0:c.data)||void 0===l?void 0:l.message)||(null===(d=null===(u=null===(p=null==t?void 0:t.response)||void 0===p?void 0:p.data)||void 0===u?void 0:u.data)||void 0===d?void 0:d.text),retry:null===(h=null==t?void 0:t.config)||void 0===h?void 0:h.__retryCount,type:null===(m=t)||void 0===m?void 0:m.type},message:(null===(b=null===(y=null===(f=null==t?void 0:t.response)||void 0===f?void 0:f.data)||void 0===y?void 0:y.data)||void 0===b?void 0:b.message)||(null===(g=null==t?void 0:t.response)||void 0===g?void 0:g.status)}:{}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.jitterFactory=void 0,e.jitterFactory=function(t,e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,o=Math.random()>.5?1:-1;return Math.max(0,n+Math.random()*e*o)}}},function(t,e,n){"use strict";function o(t){return void 0!==t}Object.defineProperty(e,"__esModule",{value:!0}),e.withDefault=e.assertDefined=e.isDefined=void 0,e.isDefined=o,e.assertDefined=function(t,e){if(void 0===t)throw new Error(e)},e.withDefault=function(t,e){return o(t)?t:e}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.attachRef=void 0,e.attachRef=function(t){return function(e,n){Object.defineProperty(e,n,{configurable:!0,get:function(){var e=this,o=function(n){o.current=n;var i=e.props[t];i&&("function"==typeof i?i(n):"object"==typeof i&&(i.current=n))};return o.current=null,Object.defineProperty(this,n,{configurable:!0,value:o}),o}})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bind=void 0,e.bind=function(t,e,n){if("function"==typeof t)throw new TypeError("Cannot bind static method "+e);var o=n.value,i=!1;return{configurable:!0,get:function(){if(i)return o;var t=o.bind(this);return i=!0,Object.defineProperty(this,e,{configurable:!0,get:function(){return t}}),i=!1,t}}}},function(t,e,n){"use strict";var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();Object.defineProperty(e,"__esModule",{value:!0}),e.RequestsBucket=void 0;var i=n(21),r=n(22),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.RequestTimeoutError;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.RequestTimeoutErrorCtr=e,this.awaiters=new Map,this.seqNo=1}return o(t,[{key:"event",value:function(t){var e=t(this.seqNo);return this.seqNo++,e}},{key:"request",value:function(t,e){var n=this;return new Promise(function(o,r){var a=t(n.seqNo);n.seqNo++;var s=new i.Request(function(t,e){n.remove(a),t?r(t):o(e)},e,n.RequestTimeoutErrorCtr);n.awaiters.set(a,s)})}},{key:"result",value:function(t,e,n){var o=this.awaiters.get(t);return!!o&&(e?o.result(e):o.result(void 0,n),!0)}},{key:"drop",value:function(t){this.awaiters.forEach(function(e){return e.result(t)}),this.awaiters.clear(),this.seqNo=1}},{key:"remove",value:function(t){return this.awaiters.delete(t)}}]),t}();e.RequestsBucket=a},function(t,e,n){"use strict";var o=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var r=this&&this.__decorate||function(t,e,n,o){var r,a=arguments.length,s=a<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"===("undefined"==typeof Reflect?"undefined":i(Reflect))&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var c=t.length-1;c>=0;c--)(r=t[c])&&(s=(a<3?r(s):a>3?r(e,n,s):r(e,n))||s);return a>3&&s&&Object.defineProperty(e,n,s),s};Object.defineProperty(e,"__esModule",{value:!0}),e.Timer=void 0;var a=n(1),s=function(){function t(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:500;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.callback=e,this.timeout=n,this.step=o,this.timeoutId=void 0,this.endTime=0,this.endTime=Date.now()+n,this.tick()}return o(t,[{key:"cancel",value:function(){this.timeoutId&&clearTimeout(this.timeoutId)}},{key:"tick",value:function(){var t=Date.now();if(this.endTime<=t||this.timeout<=0)return this.timeoutId=void 0,void this.callback();this.timeoutId=setTimeout(this.tick,this.endTime-t>this.step?this.step:this.endTime-t)}}]),t}();r([a.bind],s.prototype,"tick",null),e.Timer=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LoggableError=e.ErrorVisitor=e.createHandler=e.BaseError=void 0;var o=n(24);Object.defineProperty(e,"BaseError",{enumerable:!0,get:function(){return o.BaseError}});var i=n(25);Object.defineProperty(e,"createHandler",{enumerable:!0,get:function(){return i.createHandler}}),Object.defineProperty(e,"ErrorVisitor",{enumerable:!0,get:function(){return i.ErrorVisitor}});var r=n(68);Object.defineProperty(e,"LoggableError",{enumerable:!0,get:function(){return r.LoggableError}})},function(t,e,n){"use strict";var o,i=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.LoggableError=void 0;var r=function(t){function e(n,o,i){var r=t.call(this,n)||this;return r.loggerFields=o,r.additional=o&&o.additional,i&&(r.stack=i),Object.setPrototypeOf(r,e.prototype),r}return i(e,t),e}(n(24).BaseError);e.LoggableError=r},,,,,,,,,,,,,,,,,,,,,,,,,function(t,e){t.exports=".ya-chat-paranja,.ya-chat-paranja *,.ya-chat-popup,.ya-chat-popup *,.ya-chat-widget,.ya-chat-widget *{font-family:YS Text Chat Widget,Helvetica Neue,Helvetica,Arial,sans-serif!important;font-weight:400!important;font-style:normal!important;line-height:normal!important;position:static!important;z-index:auto!important;top:auto!important;right:auto!important;bottom:auto!important;left:auto!important;display:block!important;overflow:visible!important;clip:auto!important;zoom:normal!important;-webkit-box-sizing:border-box!important;box-sizing:border-box!important;width:auto!important;min-width:0!important;max-width:none!important;height:auto!important;min-height:0!important;max-height:none!important;margin:0!important;padding:0!important;resize:none!important;cursor:auto!important;-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important;-webkit-animation:0s none;animation:0s none;text-align:left!important;text-decoration:none!important;text-indent:0!important;letter-spacing:normal!important;word-spacing:normal!important;text-transform:none!important;-o-text-overflow:clip!important;text-overflow:clip!important;word-wrap:normal!important;word-break:normal!important;opacity:1!important;color:inherit!important;border:0!important;outline:0 none!important;background:none!important;-webkit-box-shadow:none!important;box-shadow:none!important;text-shadow:none!important;direction:ltr!important;-webkit-flex:none!important;-ms-flex:none!important;flex:none!important;-webkit-justify-content:flex-start!important;-ms-flex-pack:start!important;justify-content:flex-start!important;-o-object-fit:fill!important;object-fit:fill!important;-webkit-order:1!important;-ms-flex-order:1!important;order:1!important;-webkit-perspective:none!important;perspective:none!important;unicode-bidi:normal!important}@font-face{font-family:YS Text Chat Widget;src:url(//yastatic.net/s3/home/fonts/ys/1/text-medium.woff2) format(\"woff2\"),url(//yastatic.net/s3/home/fonts/ys/1/text-medium.woff) format(\"woff\");font-weight:500;font-style:normal;font-stretch:normal}.ya-chat-disable-page-scroll{overscroll-behavior:none!important;overflow:hidden!important}.ya-chat-disable-page-scroll_ios{position:fixed!important;left:0!important;top:0!important;right:0!important}.ya-chat-widget__mount{position:relative!important;-webkit-flex:1 1!important;-ms-flex:1 1!important;flex:1 1!important;width:100%!important;border-radius:inherit!important;overflow:hidden!important;z-index:10!important}.ya-chat-widget_theme_legacy{position:relative!important;width:35px!important;height:35px!important}.ya-chat-widget_theme_dark,.ya-chat-widget_theme_light{position:fixed!important;top:auto!important;right:var(--yandex-mssngr-widget-button-offset-right,20px)!important;bottom:var(--yandex-mssngr-widget-button-offset-bottom,20px)!important;z-index:10000!important}.ya-chat-widget_theme_dark.ya-chat-widget_shadow,.ya-chat-widget_theme_light.ya-chat-widget_shadow{-webkit-box-shadow:0 -2px 6px rgba(14,21,47,.03),0 6px 18px rgba(14,21,47,.13)!important;box-shadow:0 -2px 6px rgba(14,21,47,.03),0 6px 18px rgba(14,21,47,.13)!important}.ya-chat-widget_theme_dark.ya-chat-widget_desktop,.ya-chat-widget_theme_light.ya-chat-widget_desktop{display:-webkit-flex!important;display:-ms-flexbox!important;display:flex!important;-webkit-flex-direction:column!important;-ms-flex-direction:column!important;flex-direction:column!important;-webkit-align-items:flex-end!important;-ms-flex-align:end!important;align-items:flex-end!important;-webkit-justify-content:flex-end!important;-ms-flex-pack:end!important;justify-content:flex-end!important;min-width:40px!important;height:40px!important;border-radius:13px!important;-webkit-transition:border-radius .4s ease,-webkit-box-shadow .4s ease!important;transition:border-radius .4s ease,-webkit-box-shadow .4s ease!important;-o-transition:border-radius .4s ease,box-shadow .4s ease!important;transition:border-radius .4s ease,box-shadow .4s ease!important;transition:border-radius .4s ease,box-shadow .4s ease,-webkit-box-shadow .4s ease!important}@media screen and (max-height:560px){.ya-chat-widget_theme_dark.ya-chat-widget_desktop,.ya-chat-widget_theme_light.ya-chat-widget_desktop{max-height:calc(100vh - 40px)!important}}.ya-chat-widget_theme_dark.ya-chat-widget_desktop.ya-chat-widget_visible,.ya-chat-widget_theme_light.ya-chat-widget_desktop.ya-chat-widget_visible{border-radius:8px!important}.ya-chat-widget_theme_dark.ya-chat-widget_desktop.ya-chat-widget_theme_light,.ya-chat-widget_theme_light.ya-chat-widget_desktop.ya-chat-widget_theme_light{background-color:var(--yandex-mssngr-widget-loader-background-color,#fff)!important}.ya-chat-widget_theme_dark.ya-chat-widget_desktop.ya-chat-widget_theme_dark,.ya-chat-widget_theme_light.ya-chat-widget_desktop.ya-chat-widget_theme_dark{background-color:var(--yandex-mssngr-widget-loader-background-color,#292c33)!important}.ya-chat-widget_theme_dark.ya-chat-widget_size_large,.ya-chat-widget_theme_light.ya-chat-widget_size_large{min-width:60px!important;height:60px!important;border-radius:19.5px!important}.ya-chat-widget_theme_dark.ya-chat-widget_fullscreen,.ya-chat-widget_theme_light.ya-chat-widget_fullscreen{position:fixed!important;top:0!important;right:0!important;bottom:0!important;left:0!important;-webkit-transform:none!important;transform:none!important;width:100vw!important;min-width:100vw!important;height:100vh!important;min-height:100vh!important}.ya-chat-widget_theme_hidden{position:fixed!important;top:auto!important;right:20px!important;bottom:20px!important;z-index:10000!important}.ya-chat-widget_theme_hidden.ya-chat-widget_fullscreen{top:0!important;right:0!important;bottom:0!important;left:0!important;-webkit-transform:none!important;transform:none!important;width:100vw!important;min-width:100vw!important;height:100vh!important;min-height:100vh!important}.ya-chat-paranja{position:fixed!important;top:0!important;right:0!important;bottom:0!important;left:0!important;z-index:10005!important;display:none!important;visibility:hidden!important;-webkit-transition:opacity .32s ease .08s,visibility 0s ease .4s!important;-o-transition:opacity .32s ease .08s,visibility 0s ease .4s!important;transition:opacity .32s ease .08s,visibility 0s ease .4s!important;opacity:0!important;background-color:rgba(0,0,0,.56)!important;-webkit-tap-highlight-color:rgba(0,0,0,0)!important}.ya-chat-paranja_visible{visibility:visible!important;-webkit-transition-delay:0s!important;-o-transition-delay:0s!important;transition-delay:0s!important;opacity:1!important}.ya-chat-paranja_mobile{display:block!important}.ya-chat-popup{z-index:10010!important;-webkit-tap-highlight-color:rgba(0,0,0,0)!important;-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important;pointer-events:none!important;background-color:#fff!important;color:#292c33!important}.ya-chat-popup__content-wrapper{display:-webkit-flex!important;display:-ms-flexbox!important;display:flex!important;-webkit-flex-direction:column!important;-ms-flex-direction:column!important;flex-direction:column!important;-webkit-flex:1 1 auto!important;-ms-flex:1 1 auto!important;flex:1 1 auto!important;-webkit-align-items:center!important;-ms-flex-align:center!important;align-items:center!important;-webkit-justify-content:center!important;-ms-flex-pack:center!important;justify-content:center!important;width:100%!important;height:100%!important;border-radius:inherit!important}.ya-chat-popup_position_static{position:absolute!important;bottom:0!important;right:0!important}.ya-chat-popup_position_target{position:fixed!important;left:-9999px!important;top:-9999px!important}.ya-chat-popup_position_absolute{position:absolute!important;left:-9999px!important;top:-9999px!important}.ya-chat-popup_position_fixed{position:fixed!important;left:0!important;top:40px!important;bottom:0!important;right:0!important;border-radius:0!important;overflow:visible!important}.ya-chat-popup_visible{pointer-events:auto!important}.ya-chat-popup.ya-chat-popup_visible.ya-chat-popup_fullscreen{position:static!important;min-width:100%!important;min-height:100%!important;border-radius:0!important}.ya-chat-popup.ya-chat-popup_visible.ya-chat-popup_fullscreen.ya-chat-popup_position_fixed,.ya-chat-popup.ya-chat-popup_visible.ya-chat-popup_fullscreen.ya-chat-popup_position_target{position:fixed!important;top:0!important;left:0!important}.ya-chat-popup.ya-chat-popup_visible.ya-chat-popup_fullscreen .ya-chat-popup__content-wrapper{min-width:100vw!important;min-height:100vh!important}.ya-chat-popup_mobile{opacity:0!important;pointer-events:none!important;-webkit-transform:translateY(100%)!important;transform:translateY(100%)!important;-webkit-transition:opacity .4s ease,-webkit-transform .4s ease!important;transition:opacity .4s ease,-webkit-transform .4s ease!important;-o-transition:transform .4s ease,opacity .4s ease!important;transition:transform .4s ease,opacity .4s ease!important;transition:transform .4s ease,opacity .4s ease,-webkit-transform .4s ease!important}.ya-chat-popup_mobile.ya-chat-popup_visible{-webkit-transform:translateY(0)!important;transform:translateY(0)!important;pointer-events:auto!important;opacity:1!important}.ya-chat-popup_theme_hidden.ya-chat-popup_desktop,.ya-chat-popup_theme_legacy.ya-chat-popup_desktop{overflow:visible!important;-webkit-transform:scale(0)!important;transform:scale(0)!important;opacity:0!important;-webkit-transition:opacity .1s,-webkit-transform 0s .1s!important;transition:opacity .1s,-webkit-transform 0s .1s!important;-o-transition:opacity .1s,transform 0s .1s!important;transition:opacity .1s,transform 0s .1s!important;transition:opacity .1s,transform 0s .1s,-webkit-transform 0s .1s!important;border-radius:4px!important;-webkit-box-shadow:0 10px 20px -5px rgba(0,0,0,.4),0 0 0 1px rgba(0,0,0,.06)!important;box-shadow:0 10px 20px -5px rgba(0,0,0,.4),0 0 0 1px rgba(0,0,0,.06)!important}.ya-chat-popup_theme_hidden.ya-chat-popup_desktop.ya-chat-popup_visible,.ya-chat-popup_theme_legacy.ya-chat-popup_desktop.ya-chat-popup_visible{-webkit-transform:scale(1)!important;transform:scale(1)!important;opacity:1!important;-webkit-transition:opacity .1s!important;-o-transition:opacity .1s!important;transition:opacity .1s!important}.ya-chat-popup:not(.ya-chat-popup_fullscreen).ya-chat-popup_theme_hidden.ya-chat-popup_desktop .ya-chat-popup__content-wrapper{width:420px!important;min-width:360px!important;height:600px!important;max-height:calc(100vh - 40px)!important;max-width:calc(100vw - 40px)!important}.ya-chat-popup:not(.ya-chat-popup_fullscreen).ya-chat-popup_theme_legacy.ya-chat-popup_desktop .ya-chat-popup__content-wrapper{width:420px!important;min-width:360px!important;height:600px!important;max-height:calc(100vh - 80px)!important;max-width:calc(100vw - 80px)!important}.ya-chat-popup_theme_dark.ya-chat-popup_desktop,.ya-chat-popup_theme_light.ya-chat-popup_desktop{overflow:hidden!important;border-radius:inherit!important;max-width:100%!important;max-height:100%!important;z-index:0!important;-webkit-box-shadow:0 -2px 6px rgba(14,21,47,.03),0 6px 18px rgba(14,21,47,.13)!important;box-shadow:0 -2px 6px rgba(14,21,47,.03),0 6px 18px rgba(14,21,47,.13)!important;-webkit-transition:max-width .4s ease,max-height .4s ease,-webkit-box-shadow .4s ease!important;transition:max-width .4s ease,max-height .4s ease,-webkit-box-shadow .4s ease!important;-o-transition:max-width .4s ease,max-height .4s ease,box-shadow .4s ease!important;transition:max-width .4s ease,max-height .4s ease,box-shadow .4s ease!important;transition:max-width .4s ease,max-height .4s ease,box-shadow .4s ease,-webkit-box-shadow .4s ease!important}.ya-chat-popup_theme_dark.ya-chat-popup_desktop:not(.ya-chat-popup_fullscreen),.ya-chat-popup_theme_light.ya-chat-popup_desktop:not(.ya-chat-popup_fullscreen){min-width:100%!important;min-height:100%!important}.ya-chat-popup_theme_dark.ya-chat-popup_desktop:not(.ya-chat-popup_fullscreen) .ya-chat-popup__content-wrapper,.ya-chat-popup_theme_light.ya-chat-popup_desktop:not(.ya-chat-popup_fullscreen) .ya-chat-popup__content-wrapper{width:360px!important;min-width:360px!important;max-width:calc(100vw - 40px)!important;height:520px!important;max-height:calc(100vh - 40px)!important;opacity:0!important;-webkit-transition:opacity .32s ease!important;-o-transition:opacity .32s ease!important;transition:opacity .32s ease!important}.ya-chat-popup_theme_light{background-color:var(--yandex-mssngr-widget-loader-background-color,#fff)!important}.ya-chat-popup_theme_dark{background-color:var(--yandex-mssngr-widget-loader-background-color,#292c33)!important}.ya-chat-popup_theme_dark.ya-chat-popup_desktop.ya-chat-popup_visible,.ya-chat-popup_theme_light.ya-chat-popup_desktop.ya-chat-popup_visible{-webkit-box-shadow:0 10px 20px -5px rgba(0,0,0,.4),0 0 0 1px rgba(0,0,0,.06)!important;box-shadow:0 10px 20px -5px rgba(0,0,0,.4),0 0 0 1px rgba(0,0,0,.06)!important;max-width:calc(100vw - 40px)!important;max-height:calc(100vh - 40px)!important}.ya-chat-popup_theme_dark.ya-chat-popup_desktop.ya-chat-popup_visible:not(.ya-chat-popup_fullscreen),.ya-chat-popup_theme_light.ya-chat-popup_desktop.ya-chat-popup_visible:not(.ya-chat-popup_fullscreen){min-width:0!important;min-height:0!important}.ya-chat-popup_theme_dark.ya-chat-popup_desktop.ya-chat-popup_visible .ya-chat-popup__content-wrapper,.ya-chat-popup_theme_light.ya-chat-popup_desktop.ya-chat-popup_visible .ya-chat-popup__content-wrapper{opacity:1!important;-webkit-transition:opacity .32s ease .08s!important;-o-transition:opacity .32s .08s ease!important;transition:opacity .32s ease .08s!important}.ya-chat-badge{position:absolute!important;-webkit-transition:-webkit-transform .08s ease-out!important;transition:-webkit-transform .08s ease-out!important;-o-transition:transform .08s ease-out!important;transition:transform .08s ease-out!important;transition:transform .08s ease-out,-webkit-transform .08s ease-out!important;-webkit-transform:scale(0)!important;transform:scale(0)!important}.ya-chat-badge_has-count{-webkit-transform:scale(1)!important;transform:scale(1)!important}.ya-chat-badge_type_dot{bottom:auto!important;left:auto!important;width:8px!important;height:8px!important;-webkit-box-sizing:content-box!important;box-sizing:content-box!important;border:2px solid #fff!important;border-radius:50%!important;background-clip:padding-box!important;background-color:red!important}.ya-chat-badge_type_dot .ya-chat-badge__count{display:none!important}.ya-chat-badge__count{font-size:13px!important;font-weight:700!important;line-height:15px!important;color:#fff!important;vertical-align:middle!important;text-align:center!important;border-radius:15px!important;cursor:pointer!important;padding:0 4px!important;-webkit-box-sizing:border-box!important;box-sizing:border-box!important;background-color:red!important}.ya-chat-badge_theme_legacy{top:3px!important;right:3px!important}.ya-chat-badge_theme_dark,.ya-chat-badge_theme_light{top:-3px!important;right:-3px!important}.ya-chat-button{display:block!important;visibility:visible!important;cursor:pointer!important;text-decoration:none!important;-webkit-tap-highlight-color:rgba(0,0,0,0)!important;-webkit-user-select:none!important}.ya-chat-button_mobile{top:12px!important;left:12px!important}.ya-chat-button__container{display:-webkit-flex!important;display:-ms-flexbox!important;display:flex!important;-webkit-align-items:center!important;-ms-flex-align:center!important;align-items:center!important}.ya-chat-button__container,.ya-chat-button__text{overflow:hidden!important;cursor:pointer!important}.ya-chat-button__text{-webkit-flex:1 1 auto!important;-ms-flex:1 1 auto!important;flex:1 1 auto!important}.ya-chat-button__text-container{overflow:hidden!important;padding-left:8px!important;font-size:14px!important;font-weight:500!important;line-height:20px!important;vertical-align:middle!important;white-space:nowrap!important;-o-text-overflow:ellipsis!important;text-overflow:ellipsis!important;cursor:pointer!important}.ya-chat-button_theme_legacy{width:100%!important;height:100%!important}.ya-chat-button_theme_legacy .ya-chat-button__container{padding:0 7px!important;height:100%!important}.ya-chat-button_theme_legacy .ya-chat-button__text{display:none!important}.ya-chat-button_theme_legacy .ya-chat-icon{width:21px!important;height:21px!important}.ya-chat-button_theme_legacy:active .ya-chat-icon{-webkit-transform:scale(.9)!important;transform:scale(.9)!important}.ya-chat-button_theme_dark,.ya-chat-button_theme_light{position:relative!important;-webkit-transition:opacity .08s ease .32s!important;-o-transition:opacity .08s .32s ease!important;transition:opacity .08s ease .32s!important;z-index:1!important}.ya-chat-button_theme_dark.ya-chat-button_hidden,.ya-chat-button_theme_light.ya-chat-button_hidden{-webkit-transition:opacity .08s ease!important;-o-transition:opacity .08s ease!important;transition:opacity .08s ease!important;opacity:0!important;pointer-events:none!important}.ya-chat-button_theme_dark .ya-chat-button__container,.ya-chat-button_theme_light .ya-chat-button__container{vertical-align:top!important;white-space:nowrap!important;padding-left:8px!important;padding-right:10px!important;height:40px!important;max-width:280px!important;-webkit-transform-origin:100% 50%!important;transform-origin:100% 50%!important;border-radius:13px!important;-webkit-box-sizing:border-box!important;box-sizing:border-box!important}.ya-chat-button_theme_dark .ya-chat-button__container_size_large,.ya-chat-button_theme_light .ya-chat-button__container_size_large{height:60px!important;max-width:420px!important;border-radius:19.5px!important}.ya-chat-button_theme_dark.ya-chat-button_desktop .ya-chat-button__container:after,.ya-chat-button_theme_light.ya-chat-button_desktop .ya-chat-button__container:after{content:\"\"!important;position:absolute!important;top:0!important;left:0!important;width:calc(100% + 20px)!important;height:calc(100% + 20px)!important}.ya-chat-button_theme_dark.ya-chat-button_mobile .ya-chat-button__container,.ya-chat-button_theme_light.ya-chat-button_mobile .ya-chat-button__container{-webkit-box-shadow:0 6px 20px -5px rgba(0,0,0,.4),0 0 0 1px rgba(0,0,0,.06)!important;box-shadow:0 6px 20px -5px rgba(0,0,0,.4),0 0 0 1px rgba(0,0,0,.06)!important}.ya-chat-button_theme_dark.ya-chat-button_mobile .ya-chat-button__container:after,.ya-chat-button_theme_light.ya-chat-button_mobile .ya-chat-button__container:after{content:\"\"!important;position:absolute!important;left:-12px!important;top:-12px!important;width:calc(100% + 24px)!important;height:calc(100% + 24px)!important}.ya-chat-button_theme_dark.ya-chat-button_collapsed_always .ya-chat-button__container,.ya-chat-button_theme_light.ya-chat-button_collapsed_always .ya-chat-button__container{padding-left:6px!important;padding-right:6px!important}.ya-chat-button_theme_dark.ya-chat-button_collapsed_always .ya-chat-button__container_size_large,.ya-chat-button_theme_light.ya-chat-button_collapsed_always .ya-chat-button__container_size_large{padding-left:9px!important;padding-right:9px!important}.ya-chat-button_theme_dark.ya-chat-button_collapsed_always .ya-chat-button__text,.ya-chat-button_theme_light.ya-chat-button_collapsed_always .ya-chat-button__text{display:none!important}.ya-chat-button_theme_dark.ya-chat-button_collapsed_hover .ya-chat-button__text,.ya-chat-button_theme_light.ya-chat-button_collapsed_hover .ya-chat-button__text{-webkit-transition:opacity .4s ease!important;-o-transition:opacity .4s ease!important;transition:opacity .4s ease!important}.ya-chat-button_theme_dark.ya-chat-button_collapsed_hover:not(:hover) .ya-chat-button__container,.ya-chat-button_theme_light.ya-chat-button_collapsed_hover:not(:hover) .ya-chat-button__container{max-width:40px!important;padding-left:6px!important;padding-right:6px!important}.ya-chat-button_theme_dark.ya-chat-button_collapsed_hover:not(:hover) .ya-chat-button__container_size_large,.ya-chat-button_theme_light.ya-chat-button_collapsed_hover:not(:hover) .ya-chat-button__container_size_large{max-width:60px!important;padding-left:9px!important;padding-right:9px!important}.ya-chat-button_theme_dark.ya-chat-button_collapsed_hover:not(:hover) .ya-chat-button__text,.ya-chat-button_theme_light.ya-chat-button_collapsed_hover:not(:hover) .ya-chat-button__text{opacity:0!important}.ya-chat-button_theme_light .ya-chat-button__container{background-color:#fff!important}.ya-chat-button_theme_light .ya-chat-button__text{color:#292c33!important}.ya-chat-button_theme_dark .ya-chat-button__container{background-color:#292c33!important}.ya-chat-button_theme_dark .ya-chat-button__text{color:#fff!important}.ya-chat-button.ya-chat-button_theme_hidden{display:none!important}.ya-chat-icon{width:28px!important;height:28px!important;-webkit-flex:none!important;-ms-flex:none!important;flex:none!important;cursor:pointer!important;color:#4e66ff!important}.ya-chat-icon_theme-extended_happy_new_year{background-image:url(https://yastatic.net/s3/chat-static/spec/ny2019/ny-image-36.png)!important;background-size:contain!important;background-repeat:no-repeat!important;background-position:50%!important;height:42px!important;width:42px!important}@media (-o-min-device-pixel-ratio:2/1),(-webkit-min-device-pixel-ratio:2),(min-resolution:192dpi){.ya-chat-icon_theme-extended_happy_new_year{background-image:url(https://yastatic.net/s3/chat-static/spec/ny2019/new-year-chats@2x.png)!important}}.ya-chat-icon_type_black{color:#000!important}.ya-chat-icon_type_white{color:#fff!important}.ya-chat-icon_size_large{height:42px!important;width:42px!important}.ya-chat-promo{position:absolute!important;top:-186px!important;right:-114px!important;-webkit-animation:circleLoad 10s cubic-bezier(.06,.91,.17,1) 2s;animation:circleLoad 10s cubic-bezier(.06,.91,.17,1) 2s;width:380px!important;height:380px!important;visibility:hidden!important;border-radius:100%!important;background-color:#65e6e6!important}.ya-chat-promo_hidden{-webkit-animation:none;animation:none;display:none!important}.ya-chat-promo__close-btn,.ya-chat-promo__text{position:absolute!important;opacity:0!important;-webkit-animation:contentLoad 9.7s linear 2.3s;animation:contentLoad 9.7s linear 2.3s}.ya-chat-promo__close-btn{top:40px!important;right:124px!important;color:#333!important;cursor:pointer!important}.ya-chat-promo__text{font-size:14px!important;font-weight:500!important;line-height:20px!important;top:94px!important;left:80px!important;max-width:180px!important;color:#000!important}@-webkit-keyframes circleLoad{0%{visibility:visible;-webkit-transform:scale(.4);transform:scale(.4)}6%{visibility:visible;-webkit-transform:scale(1);transform:scale(1)}to{visibility:hidden}}@keyframes circleLoad{0%{visibility:visible;-webkit-transform:scale(.4);transform:scale(.4)}6%{visibility:visible;-webkit-transform:scale(1);transform:scale(1)}to{visibility:hidden}}@-webkit-keyframes contentLoad{0%{opacity:0}6%{opacity:1}to{opacity:1}}@keyframes contentLoad{0%{opacity:0}6%{opacity:1}to{opacity:1}}.ya-chat-header{display:none!important;-webkit-tap-highlight-color:rgba(0,0,0,0)!important;position:relative!important;width:100%!important;height:49px!important;border-bottom:1px solid #e6ebf1!important;border-top-left-radius:inherit!important;border-top-right-radius:inherit!important;background-color:#f3f5f8!important;visibility:hidden!important;-webkit-transition:visibility .4s ease!important;-o-transition:visibility ease .4s!important;transition:visibility .4s ease!important}.ya-chat-header__text{font-size:16px!important;font-weight:500!important;line-height:48px!important;overflow:hidden!important;-webkit-box-sizing:border-box!important;box-sizing:border-box!important;width:100%!important;max-width:100%!important;padding:0 48px 0 16px!important;white-space:nowrap!important;-o-text-overflow:ellipsis!important;text-overflow:ellipsis!important;color:#333!important;-webkit-user-select:none!important}.ya-chat-header__close{position:absolute!important;top:0!important;right:0!important;width:48px!important;height:100%!important;cursor:pointer!important;opacity:.8!important;background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='currentColor' clip-rule='evenodd' d='M19.207 6.207a1 1 0 00-1.414-1.414L12 10.586 6.207 4.793a1 1 0 00-1.414 1.414L10.586 12l-5.793 5.793a1 1 0 101.414 1.414L12 13.414l5.793 5.793a1 1 0 001.414-1.414L13.414 12l5.793-5.793z'/%3E%3C/svg%3E\") no-repeat 50%!important;background-size:50%!important}.ya-chat-header__close:hover{opacity:1!important}.ya-chat-header_visible{display:block!important;visibility:visible!important;-webkit-transition-delay:0s!important;-o-transition-delay:0s!important;transition-delay:0s!important}.ya-chat-header_hidden,.ya-chat-header_theme_hidden.ya-chat-header_empty,.ya-chat-header_theme_legacy.ya-chat-header_empty{display:none!important}.ya-chat-messenger-iframe{position:absolute!important;left:0!important;top:0!important;width:100%!important;height:100%!important;border:0!important;border-bottom-left-radius:inherit!important;border-bottom-right-radius:inherit!important;display:none!important}.ya-chat-messenger-iframe_visible{display:block!important}.ya-chat-error{position:absolute!important;top:50%!important;left:50%!important;color:var(--yandex-mssngr-widget-error-text-color,#292c33)!important;display:none!important;max-width:95%!important;padding:10px!important;-webkit-transform:translate(-50%,-50%)!important;transform:translate(-50%,-50%)!important;text-align:center!important}.ya-chat-error_visible{display:block!important;z-index:11!important}.ya-chat-error__title{font-size:22.5px!important;font-weight:700!important;line-height:1.467!important;margin-bottom:12px!important;text-align:center!important}.ya-chat-error__button{font-size:14px!important;font-weight:500!important;line-height:36px!important;padding:0 16px!important;cursor:pointer!important;text-align:center!important;white-space:nowrap!important;letter-spacing:.5px!important;text-transform:uppercase!important;color:var(--yandex-mssngr-widget-error-button-color,#1c70c4)!important;-webkit-tap-highlight-color:rgba(0,0,0,0)!important}.ya-chat-error_mobile{background-color:rgba(0,0,0,.05)!important}.ya-chat-error_theme_dark{color:var(--yandex-mssngr-widget-error-text-color,#fff)!important}.ya-chat-loader{position:absolute!important;top:0!important;right:0!important;bottom:0!important;left:0!important;opacity:0!important;display:-webkit-flex!important;display:-ms-flexbox!important;display:flex!important;-webkit-align-items:center!important;-ms-flex-align:center!important;align-items:center!important;-webkit-justify-content:center!important;-ms-flex-pack:center!important;justify-content:center!important}.ya-chat-loader__spinner{width:38px!important;height:38px!important;border-bottom:2px solid transparent!important;border-right:2px solid transparent!important;border-top:2px solid transparent!important;border-top-color:var(--yandex-mssngr-widget-spinner-color,#00a8a8)!important;border-left:2px solid transparent!important;border-left-color:var(--yandex-mssngr-widget-spinner-color,#00a8a8)!important;border-radius:50%!important}.ya-chat-loader_visible{opacity:1!important}.ya-chat-loader_visible .ya-chat-loader__spinner{-webkit-animation:ya-chat-loader-spinner-rotate 1s linear infinite;animation:ya-chat-loader-spinner-rotate 1s linear infinite}@-webkit-keyframes ya-chat-loader-spinner-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes ya-chat-loader-spinner-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.ya-chat-close{visibility:hidden!important;-webkit-transition:opacity .4s ease!important;-o-transition:opacity ease .4s!important;transition:opacity .4s ease!important;position:absolute!important;right:8px!important;top:8px!important;z-index:100!important;pointer-events:none!important}.ya-chat-close__button-box{position:relative!important;padding:4px!important;border-radius:50%!important;width:24px!important;height:24px!important;-webkit-box-sizing:content-box!important;box-sizing:content-box!important;cursor:pointer!important}.ya-chat-close__button-box:hover{background-color:#eff3f6!important}.ya-chat-close__button-box:active>*{opacity:.8!important}.ya-chat-close__button{width:100%!important;height:100%!important;background-size:100%!important;cursor:pointer!important;background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill='currentColor' clip-rule='evenodd' d='M19.207 6.207a1 1 0 00-1.414-1.414L12 10.586 6.207 4.793a1 1 0 00-1.414 1.414L10.586 12l-5.793 5.793a1 1 0 101.414 1.414L12 13.414l5.793 5.793a1 1 0 001.414-1.414L13.414 12l5.793-5.793z'/%3E%3C/svg%3E\") no-repeat 50%!important}.ya-chat-close_visible{visibility:visible!important;pointer-events:auto!important}"},,,,function(t,e,n){n(46),t.exports=n(118)},,,,,,,,,,,,,,,,,,,,,function(t,e,n){"use strict";n.r(e),n.d(e,"ChatWidget",function(){return s.a});var o=n(2),i="https://yandex.ru/chat?build=widget";var r={name:"external",badgeType:"num",badgeMaxCount:99,buttonIcon:"colored",buttonIconByTheme:{light:"colored",dark:"white"},collapsedDesktop:"hover",collapsedTouch:"always",iframeUrl:i,serviceId:11,iframeAllow:["microphone","camera"],lang:"ru",theme:"light",unreadUrl:"",openNative:!0,fullscreen:!0};Object(o.b)({page:r.name,additional:r});var a=r,s=n(11),c=n(42),l=n(38),p=n(93);s.a.config=a,s.a.overrideOptions={styles:p},Object(c.b)(s.a),Object(l.a)("widget",s.a.version)}])});